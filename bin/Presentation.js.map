{
"version":3,
"file":"Presentation.js",
"sourceRoot":"file://",
"sources":["C:/HaxeToolkit/haxe/std/js/_std/EReg.hx","C:/HaxeToolkit/haxe/std/js/_std/HxOverrides.hx","C:/HaxeToolkit/haxe/std/List.hx","C:/HaxeToolkit/haxe/std/js/_std/Reflect.hx","C:/HaxeToolkit/haxe/std/js/_std/Std.hx","C:/HaxeToolkit/haxe/std/StringBuf.hx","C:/HaxeToolkit/haxe/std/StringTools.hx","C:/HaxeToolkit/haxe/std/js/_std/Type.hx","C:/GitHub/HIDE/src/about/Presentation.hx","C:/GitHub/HIDE/src/core/LocaleWatcher.hx","C:/HaxeToolkit/haxe/std/haxe/Timer.hx","C:/HaxeToolkit/haxe/std/haxe/Utf8.hx","C:/HaxeToolkit/haxe/std/js/_std/haxe/ds/StringMap.hx","C:/HaxeToolkit/haxe/std/js/Boot.hx","C:/HaxeToolkit/haxe/lib/tjson/1,2,3/tjson/TJSON.hx","C:/HaxeToolkit/haxe/std/Math.hx","C:/GitHub/HIDE/libs/nodejs-std/src/js/Node.hx","C:/GitHub/HIDE/libs/nodejs-std/src/nodejs/webkit/UI.hx","C:/GitHub/HIDE/libs/nodejs-std/src/nodejs/webkit/Menu.hx","C:/GitHub/HIDE/libs/nodejs-std/src/nodejs/webkit/MenuItem.hx","C:/GitHub/HIDE/libs/nodejs-std/src/nodejs/webkit/Window.hx"],
"sourcesContent":["/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class EReg {\n\n\tvar r : Dynamic;\n\n\tpublic function new( r : String, opt : String ) : Void {\n\t\topt = opt.split(\"u\").join(\"\"); // 'u' (utf8) depends on page encoding\n\t\tthis.r = untyped __new__(\"RegExp\",r,opt);\n\t}\n\n\tpublic function match( s : String ) : Bool {\n\t\tif( r.global ) r.lastIndex = 0;\n\t\tr.m = r.exec(s);\n\t\tr.s = s;\n\t\treturn (r.m != null);\n\t}\n\n\tpublic function matched( n : Int ) : String {\n\t\treturn if( r.m != null && n >= 0 && n < r.m.length ) r.m[n] else throw \"EReg::matched\";\n\t}\n\n\tpublic function matchedLeft() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn r.s.substr(0,r.m.index);\n\t}\n\n\tpublic function matchedRight() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\tvar sz = r.m.index+r.m[0].length;\n\t\treturn r.s.substr(sz,r.s.length-sz);\n\t}\n\n\tpublic function matchedPos() : { pos : Int, len : Int } {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn { pos : r.m.index, len : r.m[0].length };\n\t}\n\n\tpublic function matchSub( s : String, pos : Int, len : Int = -1):Bool {\n\t\treturn if (r.global) {\n\t\t\tr.lastIndex = pos;\n\t\t\tr.m = r.exec(len < 0 ? s : s.substr(0, pos + len));\n\t\t\tvar b = r.m != null;\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t}\n\t\t\tb;\n\t\t} else {\n\t\t\t// TODO: check some ^/$ related corner cases\n\t\t\tvar b = match( len < 0 ? s.substr(pos) : s.substr(pos,len) );\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t\tr.m.index += pos;\n\t\t\t}\n\t\t\tb;\n\t\t}\n\t}\n\n\tpublic function split( s : String ) : Array<String> {\n\t\t// we can't use directly s.split because it's ignoring the 'g' flag\n\t\tvar d = \"#__delim__#\";\n\t\treturn untyped s.replace(r,d).split(d);\n\t}\n\n\tpublic function replace( s : String, by : String ) : String {\n\t\treturn untyped s.replace(r,by);\n\t}\n\n\tpublic function map( s : String, f : EReg -> String ) : String {\n\t\tvar offset = 0;\n\t\tvar buf = new StringBuf();\n\t\tdo {\n\t\t\tif (offset >= s.length)\n\t\t\t\tbreak;\n\t\t\telse if (!matchSub(s, offset)) {\n\t\t\t\tbuf.add(s.substr(offset));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar p = matchedPos();\n\t\t\tbuf.add(s.substr(offset, p.pos - offset));\n\t\t\tbuf.add(f(this));\n\t\t\tif (p.len == 0) {\n\t\t\t\tbuf.add(s.substr(p.pos, 1));\n\t\t\t\toffset = p.pos + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t\toffset = p.pos + p.len;\n\t\t} while (r.global);\n\t\tif (!r.global && offset > 0 && offset < s.length)\n\t\t\tbuf.add(s.substr(offset));\n\t\treturn buf.toString();\n\t}\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\n\tstatic function dateStr( date :Date ) : String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear()\n\t\t\t+\"-\"+(if( m < 10 ) \"0\"+m else \"\"+m)\n\t\t\t+\"-\"+(if( d < 10 ) \"0\"+d else \"\"+d)\n\t\t\t+\" \"+(if( h < 10 ) \"0\"+h else \"\"+h)\n\t\t\t+\":\"+(if( mi < 10 ) \"0\"+mi else \"\"+mi)\n\t\t\t+\":\"+(if( s < 10 ) \"0\"+s else \"\"+s);\n\t}\n\n\tstatic function strDate( s : String ) : Date {\n\t\tswitch( s.length ) {\n\t\tcase 8: // hh:mm:ss\n\t\t\tvar k = s.split(\":\");\n\t\t\tvar d : Date = untyped __new__(Date);\n\t\t\tuntyped d[\"setTime\"](0);\n\t\t\tuntyped d[\"setUTCHours\"](k[0]);\n\t\t\tuntyped d[\"setUTCMinutes\"](k[1]);\n\t\t\tuntyped d[\"setUTCSeconds\"](k[2]);\n\t\t\treturn d;\n\t\tcase 10: // YYYY-MM-DD\n\t\t\tvar k = s.split(\"-\");\n\t\t\treturn new Date(cast k[0],cast untyped k[1] - 1,cast k[2],0,0,0);\n\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\tvar k = s.split(\" \");\n\t\t\tvar y = k[0].split(\"-\");\n\t\t\tvar t = k[1].split(\":\");\n\t\t\treturn new Date(cast y[0],cast untyped y[1] - 1,cast y[2],cast t[0],cast t[1],cast t[2]);\n\t\tdefault:\n\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\tstatic function cca( s : String, index : Int ) : Null<Int> {\n\t\t#if mt\n\t\tvar x = (cast s).cca(index);\n\t\t#else\n\t\tvar x = (cast s).charCodeAt(index);\n\t\t#end\n\t\tif( x != x ) // fast isNaN\n\t\t\treturn untyped undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\tstatic function substr( s : String, pos : Int, ?len : Int ) : String {\n\t\tif( pos != null && pos != 0 && len != null && len < 0 ) return \"\";\n\t\tif( len == null ) len = s.length;\n\t\tif( pos < 0 ){\n\t\t\tpos = s.length + pos;\n\t\t\tif( pos < 0 ) pos = 0;\n\t\t}else if( len < 0 ){\n\t\t\tlen = s.length + len - pos;\n\t\t}\n\n\t\treturn (untyped s).substr(pos, len);\n\t}\n\n\tstatic function indexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0) i = 0;\n\t\t}\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function lastIndexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>( a : Array<T>, obj : T ) {\n\t\tvar i = a.indexOf(obj);\n\t\tif( i == -1 ) return false;\n\t\ta.splice(i,1);\n\t\treturn true;\n\t}\n\n\tstatic function iter<T>( a : Array<T> ) : Iterator<T> untyped {\n\t\treturn {\n\t\t\tcur : 0,\n\t\t\tarr : a,\n\t\t\thasNext : function() {\n\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic function __init__() untyped {\n#if !js_es5\n\t\t__feature__('HxOverrides.indexOf', if( Array.prototype.indexOf ) __js__(\"HxOverrides\").indexOf = function(a,o,i) return Array.prototype.indexOf.call(a, o, i));\n\t\t__feature__('HxOverrides.lastIndexOf', if( Array.prototype.lastIndexOf ) __js__(\"HxOverrides\").lastIndexOf = function(a,o,i) return Array.prototype.lastIndexOf.call(a, o, i));\n#end\n\n#if mt\n\t\tif( String.prototype.cca == null ) String.prototype.cca = String.prototype.charCodeAt;\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tA linked-list of elements. The list is composed of two-elements arrays\n\tthat are chained together. It is optimized so that adding or removing an\n\telement does not imply copying the whole array content every time.\n**/\nclass List<T> {\n\n\tprivate var h : Array<Dynamic>;\n\tprivate var q : Array<Dynamic>;\n\n\t/**\n\t\tThe length of `this` List.\n\t**/\n\tpublic var length(default,null) : Int;\n\n\t/**\n\t\tCreates a new empty list.\n\t**/\n\tpublic function new() {\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tAdds element `item` at the end of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function add( item : T ) {\n\t\tvar x:Array<Dynamic> = #if neko untyped __dollar__array(item,null) #else [item] #end;\n\t\tif( h == null )\n\t\t\th = x;\n\t\telse\n\t\t\tq[1] = x;\n\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tAdds element `item` at the beginning of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function push( item : T ) {\n\t\tvar x : Array<Dynamic> = #if neko\n\t\t\tuntyped __dollar__array(item,h)\n\t\t#else\n\t\t\t[item,h]\n\t\t#end;\n\t\th = x;\n\t\tif( q == null )\n\t\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function first() : Null<T> {\n\t\treturn if( h == null ) null else h[0];\n\t}\n\n\t/**\n\t\tReturns the last element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function last() : Null<T> {\n\t\treturn if( q == null ) null else q[0];\n\t}\n\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThe element is removed from `this` List.\n\t**/\n\tpublic function pop() : Null<T> {\n\t\tif( h == null )\n\t\t\treturn null;\n\t\tvar x = h[0];\n\t\th = h[1];\n\t\tif( h == null )\n\t\t\tq = null;\n\t\tlength--;\n\t\treturn x;\n\t}\n\n\t/**\n\t\tTells if `this` List is empty.\n\t**/\n\tpublic function isEmpty() : Bool {\n\t\treturn (h == null);\n\t}\n\n\t/**\n\t\tEmpties `this` List.\n\n\t\tThis function does not traverse the elements, but simply sets the\n\t\tinternal references to null and `this.length` to 0.\n\t**/\n\tpublic function clear() : Void {\n\t\th = null;\n\t\tq = null;\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tRemoves the first occurence of `v` in `this` List.\n\n\t\tIf `v` is found by checking standard equality, it is removed from `this`\n\t\tList and the function returns true.\n\n\t\tOtherwise, false is returned.\n\t**/\n\tpublic function remove( v : T ) : Bool {\n\t\tvar prev = null;\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tif( l[0] == v ) {\n\t\t\t\tif( prev == null )\n\t\t\t\t\th = l[1];\n\t\t\t\telse\n\t\t\t\t\tprev[1] = l[1];\n\t\t\t\tif( q == l )\n\t\t\t\t\tq = prev;\n\t\t\t\tlength--;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tprev = l;\n\t\t\tl = l[1];\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t\tReturns an iterator on the elements of the list.\n\t**/\n\tpublic function iterator() : Iterator<T> {\n\t\t#if (java || cs)\n\t\tvar h = h;\n\t\treturn cast {\n\t\t\thasNext : function() {\n\t\t\t\treturn (h != null);\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\t{\n\t\t\t\t\tif( h == null )\n\t\t\t\t\t\treturn null;\n\t\t\t\t\tvar x = h[0];\n\t\t\t\t\th = h[1];\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t#else\n\t\treturn cast {\n\t\t\th : h,\n\t\t\thasNext : function() {\n\t\t\t\treturn untyped (__this__.h != null);\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\tuntyped {\n\t\t\t\t\tif( __this__.h == null )\n\t\t\t\t\t\treturn null;\n\t\t\t\t\tvar x = __this__.h[0];\n\t\t\t\t\t__this__.h = __this__.h[1];\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List.\n\n\t\tThe result is enclosed in { } with the individual elements being\n\t\tseparated by a comma.\n\t**/\n\tpublic function toString() {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\ts.add(\"{\");\n\t\twhile( l != null ) {\n\t\t\tif( first )\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(\", \");\n\t\t\ts.add(Std.string(l[0]));\n\t\t\tl = l[1];\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List, with `sep` separating\n\t\teach element.\n\t**/\n\tpublic function join(sep : String) {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tif( first )\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(sep);\n\t\t\ts.add(l[0]);\n\t\t\tl = l[1];\n\t\t}\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a list filtered with `f`. The returned list will contain all\n\t\telements for which `f(x) == true`.\n\t**/\n\tpublic function filter( f : T -> Bool ) {\n\t\tvar l2 = new List();\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tvar v = l[0];\n\t\t\tl = l[1];\n\t\t\tif( f(v) )\n\t\t\t\tl2.add(v);\n\t\t}\n\t\treturn l2;\n\t}\n\n\t/**\n\t\tReturns a new list where all elements have been converted by the\n\t\tfunction `f`.\n\t**/\n\tpublic function map<X>(f : T -> X) : List<X> {\n\t\tvar b = new List();\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tvar v = l[0];\n\t\t\tl = l[1];\n\t\t\tb.add(f(v));\n\t\t}\n\t\treturn b;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\n\tpublic inline static function hasField( o : Dynamic, field : String ) : Bool {\n\t\treturn untyped __js__('Object').prototype.hasOwnProperty.call(o, field);\n\t}\n\n\tpublic static function field( o : Dynamic, field : String ) : Dynamic untyped {\n\t\treturn try o[field] catch( e : Dynamic ) null;\n\t}\n\n\tpublic inline static function setField( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\to[field] = value;\n\t}\n\n\tpublic static inline function getProperty( o : Dynamic, field : String ) : Dynamic untyped {\n\t\tvar tmp;\n\t\treturn if( o == null ) __define_feature__(\"Reflect.getProperty\",null) else if( o.__properties__ && (tmp=o.__properties__[\"get_\"+field]) ) o[tmp]() else o[field];\n\t}\n\n\tpublic static inline function setProperty( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\tvar tmp;\n\t\tif( o.__properties__ && (tmp=o.__properties__[\"set_\"+field]) ) o[tmp](value) else o[field] = __define_feature__(\"Reflect.setProperty\",value);\n\t}\n\n\tpublic inline static function callMethod( o : Dynamic, func : Dynamic, args : Array<Dynamic> ) : Dynamic untyped {\n\t\treturn func.apply(o,args);\n\t}\n\n\tpublic static function fields( o : Dynamic ) : Array<String> {\n\t\tvar a = [];\n\t\tif (o != null) untyped {\n\t\t\tvar hasOwnProperty = __js__('Object').prototype.hasOwnProperty;\n\t\t\t__js__(\"for( var f in o ) {\");\n\t\t\tif( f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f) ) a.push(f);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic static function isFunction( f : Dynamic ) : Bool untyped {\n\t\treturn __js__(\"typeof(f)\") == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>( a : T, b : T ) : Int {\n\t\treturn ( a == b ) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods( f1 : Dynamic, f2 : Dynamic ) : Bool {\n\t\tif( f1 == f2 )\n\t\t\treturn true;\n\t\tif( !isFunction(f1) || !isFunction(f2) )\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\tpublic static function isObject( v : Dynamic ) : Bool untyped {\n\t\tif( v == null )\n\t\t\treturn false;\n\t\tvar t = __js__(\"typeof(v)\");\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null)) || (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue( v : Dynamic ) : Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField( o : Dynamic, field : String ) : Bool untyped {\n\t\tif( !hasField(o,field) ) return false;\n\t\t__js__(\"delete\")(o[field]);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>( o : T ) : T {\n\t\tvar o2 : Dynamic = {};\n\t\tfor( f in Reflect.fields(o) )\n\t\t\tReflect.setField(o2,f,Reflect.field(o,f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function( f : Array<Dynamic> -> Void ) : Dynamic {})\n\tpublic static function makeVarArgs( f : Array<Dynamic> -> Dynamic ) : Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(__js__(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nimport js.Boot;\n\n@:keepInit\n@:coreApi class Std {\n\n\tpublic static inline function is( v : Dynamic, t : Dynamic ) : Bool {\n\t\treturn untyped js.Boot.__instanceof(v,t);\n\t}\n\n\tpublic static inline function instance<T:{},S:T>( value : T, c : Class<S> ) : S {\n\t\treturn untyped __instanceof__(value, c) ? cast value : null;\n\t}\n\n\tpublic static function string( s : Dynamic ) : String {\n\t\treturn untyped js.Boot.__string_rec(s,\"\");\n\t}\n\n\tpublic static inline function int( x : Float ) : Int {\n\t\treturn cast(x) | 0;\n\t}\n\n\tpublic static function parseInt( x : String ) : Null<Int> {\n\t\tvar v = untyped __js__(\"parseInt\")(x, 10);\n\t\t// parse again if hexadecimal\n\t\tif( v == 0 && (x.charCodeAt(1) == 'x'.code || x.charCodeAt(1) == 'X'.code) )\n\t\t\tv = untyped __js__(\"parseInt\")(x);\n\t\tif( untyped __js__(\"isNaN\")(v) )\n\t\t\treturn null;\n\t\treturn cast v;\n\t}\n\n\tpublic static function parseFloat( x : String ) : Float {\n\t\treturn untyped __js__(\"parseFloat\")(x);\n\t}\n\n\tpublic static function random( x : Int ) : Int {\n\t\treturn untyped x <= 0 ? 0 : Math.floor(Math.random()*x);\n\t}\n\n\tstatic function __init__() : Void untyped {\n\t\t__feature__(\"js.Boot.getClass\",String.prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"String\"] = String,String));\n\t\t__feature__(\"js.Boot.isClass\",String.__name__ = __feature__(\"Type.getClassName\",[\"String\"],true));\n\t\t__feature__(\"Type.resolveClass\",$hxClasses[\"Array\"] = Array);\n\t\t__feature__(\"js.Boot.isClass\",Array.__name__ = __feature__(\"Type.getClassName\",[\"Array\"],true));\n\t\t__feature__(\"Date.*\", {\n\t\t\t__feature__(\"js.Boot.getClass\",__js__('Date').prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"Date\"] = __js__('Date'),__js__('Date')));\n\t\t\t__feature__(\"js.Boot.isClass\",__js__('Date').__name__ = [\"Date\"]);\n\t\t});\n\t\t__feature__(\"Int.*\",{\n\t\t\tvar Int = __feature__(\"Type.resolveClass\", $hxClasses[\"Int\"] = { __name__ : [\"Int\"] }, { __name__ : [\"Int\"] });\n\t\t});\n\t\t__feature__(\"Dynamic.*\",{\n\t\t\tvar Dynamic = __feature__(\"Type.resolveClass\", $hxClasses[\"Dynamic\"] = { __name__ : [\"Dynamic\"] }, { __name__ : [\"Dynamic\"] });\n\t\t});\n\t\t__feature__(\"Float.*\",{\n\t\t\tvar Float = __feature__(\"Type.resolveClass\", $hxClasses[\"Float\"] = __js__(\"Number\"), __js__(\"Number\"));\n\t\t\tFloat.__name__ = [\"Float\"];\n\t\t});\n\t\t__feature__(\"Bool.*\",{\n\t\t\tvar Bool = __feature__(\"Type.resolveEnum\",$hxClasses[\"Bool\"] = __js__(\"Boolean\"), __js__(\"Boolean\"));\n\t\t\tBool.__ename__ = [\"Bool\"];\n\t\t});\n\t\t__feature__(\"Class.*\",{\n\t\t\tvar Class = __feature__(\"Type.resolveClass\", $hxClasses[\"Class\"] = { __name__ : [\"Class\"] }, { __name__ : [\"Class\"] });\n\t\t});\n\t\t__feature__(\"Enum.*\",{\n\t\t\tvar Enum = {};\n\t\t});\n\t\t__feature__(\"Void.*\",{\n\t\t\tvar Void = __feature__(\"Type.resolveEnum\", $hxClasses[\"Void\"] = { __ename__ : [\"Void\"] }, { __ename__ : [\"Void\"] });\n\t\t});\n\n#if !js_es5\n\t\t__feature__(\"Array.map\",\n\t\t\tif( Array.prototype.map == null )\n\t\t\t\tArray.prototype.map = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length )\n\t\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n\t\t__feature__(\"Array.filter\",\n\t\t\tif( Array.prototype.filter == null )\n\t\t\t\tArray.prototype.filter = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length ) {\n\t\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\t\tif( f(e) ) a.push(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tA String buffer is an efficient way to build a big string by appending small\n\telements together.\n\n\tIts cross-platform implementation uses String concatenation internally, but\n\tStringBuf may be optimized for different targets.\n\n\tUnlike String, an instance of StringBuf is not immutable in the sense that\n\tit can be passed as argument to functions which modify it by appending more\n\tvalues. However, the internal buffer cannot be modified.\n**/\nclass StringBuf {\n\n\tvar b:String = \"\";\n\n\t/**\n\t\tThe length of `this` StringBuf in characters.\n\t**/\n\tpublic var length(get,never) : Int;\n\n\t/**\n\t\tCreates a new StringBuf instance.\n\n\t\tThis may involve initialization of the internal buffer.\n\t**/\n\tpublic function new() {}\n\n\tinline function get_length() : Int {\n\t\treturn b.length;\n\t}\n\n\t/**\n\t\tAppends the representation of `x` to `this` StringBuf.\n\n\t\tThe exact representation of `x` may vary per platform. To get more\n\t\tconsistent behavior, this function should be called with\n\t\tStd.string(x).\n\n\t\tIf `x` is null, the String \"null\" is appended.\n\t**/\n\tpublic inline function add<T>( x : T ) : Void {\n\t\tb += x;\n\t}\n\n\t/**\n\t\tAppends the character identified by `c` to `this` StringBuf.\n\n\t\tIf `c` is negative or has another invalid value, the result is\n\t\tunspecified.\n\t**/\n\tpublic inline function addChar( c : Int ) : Void {\n\t\tb += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tAppends a substring of `s` to `this` StringBuf.\n\n\t\tThis function expects `pos` and `len` to describe a valid substring of\n\t\t`s`, or else the result is unspecified. To get more robust behavior,\n\t\t`this.add(s.substr(pos,len))` can be used instead.\n\n\t\tIf `s` or `pos` are null, the result is unspecified.\n\n\t\tIf `len` is omitted or null, the substring ranges from `pos` to the end\n\t\tof `s`.\n\t**/\n\tpublic inline function addSub( s : String, pos : Int, ?len : Int) : Void {\n\t\tb += (len == null ? s.substr(pos) : s.substr(pos, len));\n\t}\n\n\t/**\n\t\tReturns the content of `this` StringBuf as String.\n\n\t\tThe buffer is not emptied by this operation.\n\t**/\n\tpublic inline function toString() : String {\n\t\treturn b;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tThis class provides advanced methods on Strings. It is ideally used with\n\t'using StringTools' and then acts as an extension to the String class.\n\n\tIf the first argument to any of the methods is null, the result is\n\tunspecified.\n**/\n#if cs\n@:keep\n#end\nclass StringTools {\n\t/**\n\t\tEncode an URL by using the standard format.\n\t**/\n\t#if (!java && !cpp) inline #end public static function urlEncode( s : String ) : String untyped {\n\t\t#if flash9\n\t\t\treturn __global__[\"encodeURIComponent\"](s);\n\t\t#elseif flash\n\t\t\treturn _global[\"escape\"](s);\n\t\t#elseif neko\n\t\t\treturn new String(_urlEncode(s.__s));\n\t\t#elseif js\n\t\t\treturn encodeURIComponent(s);\n\t\t#elseif cpp\n\t\t\treturn s.__URLEncode();\n\t\t#elseif java\n\t\t\ttry\n\t\t\t\treturn untyped __java__(\"java.net.URLEncoder.encode(s, \\\"UTF-8\\\")\")\n\t\t\tcatch (e:Dynamic) throw e;\n\t\t#elseif cs\n\t\t\treturn cs.system.Uri.EscapeUriString(s);\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n\t/**\n\t\tDecode an URL using the standard format.\n\t**/\n\t#if (!java && !cpp) inline #end public static function urlDecode( s : String ) : String untyped {\n\t\t#if flash9\n\t\t\treturn __global__[\"decodeURIComponent\"](s.split(\"+\").join(\" \"));\n\t\t#elseif flash\n\t\t\treturn _global[\"unescape\"](s);\n\t\t#elseif neko\n\t\t\treturn new String(_urlDecode(s.__s));\n\t\t#elseif js\n\t\t\treturn decodeURIComponent(s.split(\"+\").join(\" \"));\n\t\t#elseif cpp\n\t\t\treturn s.__URLDecode();\n\t\t#elseif java\n\t\t\ttry\n\t\t\t\treturn untyped __java__(\"java.net.URLDecoder.decode(s, \\\"UTF-8\\\")\")\n\t\t\tcatch (e:Dynamic) throw e;\n\t\t#elseif cs\n\t\t\treturn cs.system.Uri.UnescapeDataString(s);\n\t\t#else\n\t\t\treturn null;\n\t\t#end\n\t}\n\n\t/**\n\t\tEscapes HTML special characters of the string `s`.\n\n\t\tThe following replacements are made:\n\n\t\t- `&` becomes `&amp`;\n\t\t- `<` becomes `&lt`;\n\t\t- `>` becomes `&gt`;\n\n\t\tIf `quotes` is true, the following characters are also replaced:\n\n\t\t- `\"` becomes `&quot`;\n\t\t- `'` becomes `&#039`;\n\t**/\n\tpublic static function htmlEscape( s : String, ?quotes : Bool ) : String {\n\t\ts = s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t\treturn quotes ? s.split('\"').join(\"&quot;\").split(\"'\").join(\"&#039;\") : s;\n\t}\n\n\t/**\n\t\tUnescapes HTML special characters of the string `s`.\n\n\t\tThis is the inverse operation to htmlEscape, i.e. the following always\n\t\tholds: htmlUnescape(htmlEscape(s)) == s\n\n\t\tThe replacements follow:\n\n\t\t- `&amp;` becomes `&`\n\t\t- `&lt;` becomes `<`\n\t\t- `&gt;` becomes `>`\n\t\t- `&quot;` becomes `\"`\n\t\t- `&#039;` becomes `'`\n\t**/\n\tpublic static function htmlUnescape( s : String ) : String {\n\t\treturn s.split(\"&gt;\").join(\">\").split(\"&lt;\").join(\"<\").split(\"&quot;\").join('\"').split(\"&#039;\").join(\"'\").split(\"&amp;\").join(\"&\");\n\t}\n\n\t/**\n\t\tTells if the string `s` starts with the string `start`.\n\n\t\tIf `start` is null, the result is unspecified.\n\n\t\tIf `start` is the empty String \"\", the result is true.\n\t**/\n\tpublic static #if (cs || java) inline #end function startsWith( s : String, start : String ) : Bool {\n\t\t#if java\n\t\treturn untyped s.startsWith(start);\n\t\t#elseif cs\n\t\treturn untyped s.StartsWith(start);\n\t\t#else\n\t\treturn( s.length >= start.length && s.substr(0, start.length) == start );\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the string `s` ends with the string `end`.\n\n\t\tIf `end` is null, the result is unspecified.\n\n\t\tIf `end` is the empty String \"\", the result is true.\n\t**/\n\tpublic static #if (cs || java) inline #end function endsWith( s : String, end : String ) : Bool {\n\t\t#if java\n\t\treturn untyped s.endsWith(end);\n\t\t#elseif cs\n\t\treturn untyped s.EndsWith(end);\n\t\t#else\n\t\tvar elen = end.length;\n\t\tvar slen = s.length;\n\t\treturn( slen >= elen && s.substr(slen - elen, elen) == end );\n\t\t#end\n\t}\n\n\t/**\n\t\tTells if the character in the string `s` at position `pos` is a space.\n\n\t\tA character is considered to be a space character if its character code\n\t\tis 9,10,11,12,13 or 32.\n\n\t\tIf `s` is the empty String \"\", or if pos is not a valid position within\n\t\t`s`, the result is false.\n\t**/\n\tpublic static function isSpace( s : String, pos : Int ) : Bool {\n\t\tvar c = s.charCodeAt( pos );\n\t\treturn (c > 8 && c < 14) || c == 32;\n\t}\n\n\t/**\n\t\tRemoves leading space characters of `s`.\n\n\t\tThis function internally calls isSpace() to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String \"\" or consists only of space characters, the\n\t\tresult is the empty String \"\".\n\t**/\n\tpublic #if cs inline #end static function ltrim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.TrimStart();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile( r < l && isSpace(s,r) ){\n\t\t\tr++;\n\t\t}\n\t\tif( r > 0 )\n\t\t\treturn s.substr(r, l-r);\n\t\telse\n\t\t\treturn s;\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves trailing space characters of `s`.\n\n\t\tThis function internally calls isSpace() to decide which characters to\n\t\tremove.\n\n\t\tIf `s` is the empty String \"\" or consists only of space characters, the\n\t\tresult is the empty String \"\".\n\t**/\n\tpublic #if cs inline #end static function rtrim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.TrimEnd();\n\t\t#else\n\t\tvar l = s.length;\n\t\tvar r = 0;\n\t\twhile( r < l && isSpace(s,l-r-1) ){\n\t\t\tr++;\n\t\t}\n\t\tif( r > 0 ){\n\t\t\treturn s.substr(0, l-r);\n\t\t}else{\n\t\t\treturn s;\n\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tRemoves leading and trailing space characters of `s`.\n\n\t\tThis is a convenience function for ltrim(rtrim(s)).\n\t**/\n\tpublic #if (cs || java) inline #end static function trim( s : String ) : String {\n\t\t#if cs\n\t\treturn untyped s.Trim();\n\t\t#elseif java\n\t\treturn untyped s.trim();\n\t\t#else\n\t\treturn ltrim(rtrim(s));\n\t\t#end\n\t}\n\n\t/**\n\t\tConcatenates `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String \"\" or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function lpad( s : String, c : String, l : Int ) : String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\twhile (s.length < l) {\n\t\t\ts = c + s;\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t\tAppends `c` to `s` until `s.length` is at least `l`.\n\n\t\tIf `c` is the empty String \"\" or if `l` does not exceed `s.length`,\n\t\t`s` is returned unchanged.\n\n\t\tIf `c.length` is 1, the resulting String length is exactly `l`.\n\n\t\tOtherwise the length may exceed `l`.\n\n\t\tIf `c` is null, the result is unspecified.\n\t**/\n\tpublic static function rpad( s : String, c : String, l : Int ) : String {\n\t\tif (c.length <= 0)\n\t\t\treturn s;\n\n\t\twhile (s.length < l) {\n\t\t\ts = s + c;\n\t\t}\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReplace all occurences of the String `sub` in the String `s` by the\n\t\tString `by`.\n\n\t\tIf `sub` is the empty String \"\", `by` is inserted after each character\n\t\tof `s`. If `by` is also the empty String \"\", `s` remains unchanged.\n\n\t\tThis is a convenience function for `s.split(sub).join(by)`.\n\n\t\tIf `sub` or `by` are null, the result is unspecified.\n\t**/\n\tpublic static function replace( s : String, sub : String, by : String ) : String {\n\t\t#if java\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.replace(sub, by);\n\t\t#elseif cs\n\t\tif (sub.length == 0)\n\t\t\treturn s.split(sub).join(by);\n\t\telse\n\t\t\treturn untyped s.Replace(sub, by);\n\t\t#else\n\t\treturn s.split(sub).join(by);\n\t\t#end\n\t}\n\n\t/**\n\t\tEncodes `n` into a hexadecimal representation.\n\n\t\tIf `digits` is specified, the resulting String is padded with \"0\" until\n\t\tits length equals `digits`.\n\t**/\n\tpublic static function hex( n : Int, ?digits : Int ) {\n\t\t#if flash9\n\t\t\tvar n : UInt = n;\n\t\t\tvar s : String = untyped n.toString(16);\n\t\t\ts = s.toUpperCase();\n\t\t#else\n\t\t\tvar s = \"\";\n\t\t\tvar hexChars = \"0123456789ABCDEF\";\n\t\t\tdo {\n\t\t\t\ts = hexChars.charAt(n&15) + s;\n\t\t\t\tn >>>= 4;\n\t\t\t} while( n > 0 );\n\t\t#end\n\t\tif( digits != null )\n\t\t\twhile( s.length < digits )\n\t\t\t\ts = \"0\"+s;\n\t\treturn s;\n\t}\n\n\t/**\n\t\tReturns the character code at position `index` of String `s`.\n\n\t\tThis method is faster than String.charCodeAt() on most platforms.\n\t\tHowever, unlike String.charCodeAt(), the result is unspecified if\n\t\t`index` is negative or exceeds `s.length`.\n\n\t\tThis operation is not guaranteed to work if `s` contains the \\0\n\t\tcharacter.\n\t**/\n\tpublic static inline function fastCodeAt( s : String, index : Int ) : Int untyped {\n\t\t#if neko\n\t\treturn untyped __dollar__sget(s.__s, index);\n\t\t#elseif cpp\n\t\treturn s.cca(index);\n\t\t#elseif flash9\n\t\treturn s.cca(index);\n\t\t#elseif flash\n\t\treturn s[\"cca\"](index);\n\t\t#elseif java\n\t\treturn ( index < s.length ) ? cast(_charAt(s, index), Int) : -1;\n\t\t#elseif cs\n\t\treturn ( cast(index, UInt) < s.length ) ? cast(untyped s[index], Int) : -1;\n\t\t#elseif js\n\t\t\t#if mt\n\t\treturn (untyped s).cca(index);\n\t\t\t#else\n\t\treturn (untyped s).charCodeAt(index);\n\t\t\t#end\n\t\t#else\n\t\treturn s.cca(index);\n\t\t#end\n\t}\n\n\t/*\n\t\tTells if `c` represents the end-of-file (EOF) character.\n\t*/\n\t@:noUsing public static inline function isEof( c : Int ) : Bool {\n\t\t#if (flash9 || cpp)\n\t\treturn c == 0;\n\t\t#elseif flash8\n\t\treturn c <= 0; // fast NaN\n\t\t#elseif js\n\t\treturn c != c; // fast NaN\n\t\t#elseif neko\n\t\treturn c == null;\n\t\t#elseif cs\n\t\treturn c == -1;\n\t\t#elseif java\n\t\treturn c == -1;\n\t\t#else\n\t\treturn false;\n\t\t#end\n\t}\n\n\t#if java\n\tprivate static inline function _charAt(str:String, idx:Int):java.StdTypes.Char16 return untyped str._charAt(idx);\n\t#end\n\n\t#if neko\n\tprivate static var _urlEncode = neko.Lib.load(\"std\",\"url_encode\",1);\n\tprivate static var _urlDecode = neko.Lib.load(\"std\",\"url_decode\",1);\n\t#end\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nenum ValueType {\n\tTNull;\n\tTInt;\n\tTFloat;\n\tTBool;\n\tTObject;\n\tTFunction;\n\tTClass( c : Class<Dynamic> );\n\tTEnum( e : Enum<Dynamic> );\n\tTUnknown;\n}\n\n@:coreApi class Type {\n\n\tpublic static function getClass<T>( o : T ) : Class<T> untyped {\n\t\tif( o == null )\n\t\t\treturn null;\n\t\treturn js.Boot.getClass(o);\n\t}\n\n\tpublic static function getEnum( o : EnumValue ) : Enum<Dynamic> untyped {\n\t\tif( o == null )\n\t\t\treturn null;\n\t\treturn o.__enum__;\n\t}\n\n\tpublic static function getSuperClass( c : Class<Dynamic> ) : Class<Dynamic> untyped {\n\t\treturn c.__super__;\n\t}\n\n\n\tpublic static function getClassName( c : Class<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped c.__name__;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function getEnumName( e : Enum<Dynamic> ) : String {\n\t\tvar a : Array<String> = untyped e.__ename__;\n\t\treturn a.join(\".\");\n\t}\n\n\tpublic static function resolveClass( name : String ) : Class<Dynamic> untyped {\n\t\tvar cl : Class<Dynamic> = $hxClasses[name];\n\t\t// ensure that this is a class\n\t\tif( cl == null || !js.Boot.isClass(cl) )\n\t\t\treturn null;\n\t\treturn cl;\n\t}\n\n\tpublic static function resolveEnum( name : String ) : Enum<Dynamic> untyped {\n\t\tvar e : Dynamic = $hxClasses[name];\n\t\t// ensure that this is an enum\n\t\tif( e == null || !js.Boot.isEnum(e) )\n\t\t\treturn null;\n\t\treturn e;\n\t}\n\n\tpublic static function createInstance<T>( cl : Class<T>, args : Array<Dynamic> ) : T untyped {\n\t\tswitch( args.length ) {\n\t\tcase 0:\n\t\t\treturn __new__(cl);\n\t\tcase 1:\n\t\t\treturn __new__(cl,args[0]);\n\t\tcase 2:\n\t\t\treturn __new__(cl,args[0],args[1]);\n\t\tcase 3:\n\t\t\treturn __new__(cl,args[0],args[1],args[2]);\n\t\tcase 4:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3]);\n\t\tcase 5:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4]);\n\t\tcase 6:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\tcase 7:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\tcase 8:\n\t\t\treturn __new__(cl,args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\tdefault:\n\t\t\tthrow \"Too many arguments\";\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static function createEmptyInstance<T>( cl : Class<T> ) : T untyped {\n\t\t__js__(\"function empty() {}; empty.prototype = cl.prototype\");\n\t\treturn __js__(\"new empty()\");\n\t}\n\n\tpublic static function createEnum<T>( e : Enum<T>, constr : String, ?params : Array<Dynamic> ) : T {\n\t\tvar f = Reflect.field(e,constr);\n\t\tif( f == null ) throw \"No such constructor \"+constr;\n\t\tif( Reflect.isFunction(f) ) {\n\t\t\tif( params == null ) throw \"Constructor \"+constr+\" need parameters\";\n\t\t\treturn Reflect.callMethod(e,f,params);\n\t\t}\n\t\tif( params != null && params.length != 0 )\n\t\t\tthrow \"Constructor \"+constr+\" does not need parameters\";\n\t\treturn f;\n\t}\n\n\tpublic static function createEnumIndex<T>( e : Enum<T>, index : Int, ?params : Array<Dynamic> ) : T {\n\t\tvar c : String = (untyped e.__constructs__)[index];\n\t\tif( c == null ) throw index+\" is not a valid enum constructor index\";\n\t\treturn createEnum(e,c,params);\n\t}\n\n\tpublic static function getInstanceFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = [];\n\t\tuntyped __js__(\"for(var i in c.prototype) a.push(i)\");\n\t\ta.remove(\"__class__\");\n\t\ta.remove(\"__properties__\");\n\t\treturn a;\n\t}\n\n\tpublic static function getClassFields( c : Class<Dynamic> ) : Array<String> {\n\t\tvar a = Reflect.fields(c);\n\t\ta.remove(\"__name__\");\n\t\ta.remove(\"__interfaces__\");\n\t\ta.remove(\"__properties__\");\n\t\ta.remove(\"__super__\");\n\t\ta.remove(\"prototype\");\n\t\treturn a;\n\t}\n\n\tpublic static function getEnumConstructs( e : Enum<Dynamic> ) : Array<String> {\n\t\tvar a : Array<String> = untyped e.__constructs__;\n\t\treturn a.copy();\n\t}\n\n\tpublic static function typeof( v : Dynamic ) : ValueType untyped {\n\t\tswitch( __js__(\"typeof\")(v) ) {\n\t\tcase \"boolean\": return TBool;\n\t\tcase \"string\": return TClass(String);\n\t\tcase \"number\":\n\t\t\t// this should handle all cases : NaN, +/-Inf and Floats outside range\n\t\t\tif( Math.ceil(v) == v%2147483648.0 )\n\t\t\t\treturn TInt;\n\t\t\treturn TFloat;\n\t\tcase \"object\":\n\t\t\tif( v == null )\n\t\t\t\treturn TNull;\n\t\t\tvar e = v.__enum__;\n\t\t\tif( e != null )\n\t\t\t\treturn TEnum(e);\n\t\t\tvar c = js.Boot.getClass(v);\n\t\t\tif( c != null )\n\t\t\t\treturn TClass(c);\n\t\t\treturn TObject;\n\t\tcase \"function\":\n\t\t\tif( js.Boot.isClass(v) || js.Boot.isEnum(v) )\n\t\t\t\treturn TObject;\n\t\t\treturn TFunction;\n\t\tcase \"undefined\":\n\t\t\treturn TNull;\n\t\tdefault:\n\t\t\treturn TUnknown;\n\t\t}\n\t}\n\n\tpublic static function enumEq<T>( a : T, b : T ) : Bool untyped {\n\t\tif( a == b )\n\t\t\treturn true;\n\t\ttry {\n\t\t\tif( a[0] != b[0] )\n\t\t\t\treturn false;\n\t\t\tfor( i in 2...a.length )\n\t\t\t\tif( !enumEq(a[i],b[i]) )\n\t\t\t\t\treturn false;\n\t\t\tvar e = a.__enum__;\n\t\t\tif( e != b.__enum__ || e == null )\n\t\t\t\treturn false;\n\t\t} catch( e : Dynamic ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic inline static function enumConstructor( e : EnumValue ) : String {\n\t\treturn untyped e[0];\n\t}\n\n\tpublic inline static function enumParameters( e : EnumValue ) : Array<Dynamic> {\n\t\treturn untyped e.slice(2);\n\t}\n\n\tpublic inline static function enumIndex( e : EnumValue ) : Int {\n\t\treturn untyped e[1];\n\t}\n\n\tpublic static function allEnums<T>( e : Enum<T> ) : Array<T> {\n\t\tvar all = [];\n\t\tvar cst : Array<String> = untyped e.__constructs__;\n\t\tfor( c in cst ) {\n\t\t\tvar v = Reflect.field(e,c);\n\t\t\tif( !Reflect.isFunction(v) )\n\t\t\t\tall.push(v);\n\t\t}\n\t\treturn all;\n\t}\n\n}\n\n","package about;\r\nimport core.LocaleWatcher;\r\nimport haxe.Timer;\r\nimport js.Browser;\r\nimport js.html.DivElement;\r\nimport js.html.Element;\r\nimport js.html.KeyboardEvent;\r\nimport js.html.ParagraphElement;\r\nimport js.html.AnchorElement;\r\nimport js.Lib;\r\nimport nodejs.webkit.Window;\r\n\r\n/**\r\n * ...\r\n * @author AS3Boyan\r\n */\r\nclass Presentation\r\n{\r\n\tprivate static var impressDiv:DivElement;\r\n\tprivate static var slidesCount:Int;\r\n\tprivate static var autoplay:Bool = true;\r\n\tstatic private var timer:Timer;\r\n\r\n\tpublic static function main()\r\n\t{\t\t\r\n\t\tBrowser.window.onload = function (e):Void\r\n\t\t{\r\n\t\t\tLocaleWatcher.load();\r\n\t\t\t\r\n\t\t\timpressDiv = Browser.document.createDivElement();\r\n\t\t\timpressDiv.id = \"impress\";\r\n\t\t\r\n\t\t\tvar start:DivElement = Browser.document.createDivElement();\r\n\t\t\tstart.id = \"start\";\r\n\t\t\tstart.className = \"step\";\r\n\t\t\tstart.setAttribute('data-transition-duration', \"1000\");\r\n\t\t\timpressDiv.appendChild(start);\r\n\t\t\t\r\n\t\t\tvar p:ParagraphElement = Browser.document.createParagraphElement();\r\n\t\t\tp.style.width = \"1000px\";\r\n\t\t\tp.style.fontSize = \"80px\";\r\n\t\t\tp.style.textAlign = \"center\";\r\n\t\t\tp.setAttribute(\"localeString\", \"HIDE - cross platform extensible IDE for Haxe\");\r\n\t\t\tp.textContent = LocaleWatcher.getStringSync(\"HIDE - cross platform extensible IDE for Haxe\");\r\n\t\t\tstart.appendChild(p);\r\n\t\t\t\t\t\t\r\n\t\t\tslidesCount = 1;\r\n\r\n\t\t\tvar slide:DivElement;\r\n\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"'Feature request' perk backer and project sponsor\"));\r\n\t\t\tslide = createSlide(\"Haxe Foundation \", \"http://haxe-foundation.org/\", \"haxe-foundation.org\", \"120px\");\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"'Link to your website' perk backers\"));\r\n\t\t\tslide = createSlide(\"FlashDevelop\", \"http://www.flashdevelop.org/\", \"www.flashdevelop.org\", \"100px\");\r\n\t\t\tslide = createSlide(\"OpenFL\", \"http://www.openfl.org/\", \"www.openfl.org\", \"100px\");\r\n\t\t\tslide = createSlide(\"Hypersurge\", \"http://hypersurge.com/\", \"hypersurge.com\", \"100px\");\r\n\t\t\tslide = createSlide(\"Adrian Cowan\", \"http://blog.othrayte.net/\", \"blog.othrayte.net\", \"100px\");\r\n\t\t\tslide = createSlide(\"Justin Donaldson\", \"http://scwn.net/\", \"scwn.net\", \"100px\");\r\n\t\t\tslide = createSlide(\"Jonas Malaco Filho\", null, null, \"100px\");\r\n\t\t\tslide = createSlide(\"tommy62\", null, null, \"100px\");\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"'Contributor' perk backers\"));\r\n\t\t\t\r\n\t\t\tvar contributors:Array<String> = [\r\n\t\t\t\"Allan Dowdeswell\",\r\n\t\t\t\"Samuel Batista\",\r\n\t\t\t\"JongChan Choi\",\r\n\t\t\t\"Patric Vormstein\",\r\n\t\t\t\"Harry.french\",\r\n\t\t\t\"Vincent Blanchet\",\r\n\t\t\t\"zaynyatyi\",\r\n\t\t\t\"qzix13\",\r\n\t\t\t\"free24speed\",\r\n\t\t\t\"franco.ponticelli\",\r\n\t\t\t\"william.shakour\",\r\n\t\t\t\"frabbit\",\r\n\t\t\t\"Nick Holder\",\r\n\t\t\t\"fintanboyle\",\r\n\t\t\t\"Katsuomi Kobayashi\",\r\n\t\t\t\"grigoruk\",\r\n\t\t\t\"jessetalavera\",\r\n\t\t\t\"bradparks\",\r\n\t\t\t\"pchertok\",\r\n\t\t\t\"Masahiro Wakame\",\r\n\t\t\t\"Stojan Ilic\",\r\n\t\t\t\"Renaud Bardet\",\r\n\t\t\t\"Filip Loster\",\r\n\t\t\t\"MatejTyc\",\r\n\t\t\t\"Tiago Ling Alexandre\",\r\n\t\t\t\"Skial Bainn\",\r\n\t\t\t\"lars.doucet\",\r\n\t\t\t\"Ido Yehieli\",\r\n\t\t\t\"Ronan Sandford\",\r\n\t\t\t\"brutfood\",\r\n\t\t\t\"Matan Uberstein\",\r\n\t\t\t\"rcarcasses\",\r\n\t\t\t\"vic.cvc\",\r\n\t\t\t\"Richard Lovejoy\",\r\n\t\t\t\"Tarwin Stroh-Spijer\",\r\n\t\t\t\"obutovich\",\r\n\t\t\t\"erik.escoffier\",\r\n\t\t\t\"Robert Wahler\",\r\n\t\t\t\"Louis Tovar\",\r\n\t\t\t\"L Pope\",\r\n\t\t\t\"Florian Landerl\",\r\n\t\t\t\"shohei 909\",\r\n\t\t\t\"Andy Li\",\r\n\t\t\t\"dionjw\",\r\n\t\t\t\"Aaron Spjut\",\r\n\t\t\t\"sebpatu\",\r\n\t\t\t\"brycedneal\",\r\n\t\t\t\"Sam Twidale\",\r\n\t\t\t\"Phillip Louderback\",\r\n\t\t\t\"Mario Vormstein\",\r\n\t\t\t\"deepnight\",\r\n\t\t\t\"Daniel Freeman\",\r\n\t\t\t];\r\n\t\t\t\r\n\t\t\twhile (contributors.length > 0)\r\n\t\t\t{\r\n\t\t\t\tslide = createSlide(contributors.splice(Std.random(contributors.length), 1)[0]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"Also there is anonymous contributors, people who helped us to spread the word and people who helped us through pull requests, bug reports and feature requests and by giving feedbacks\"));\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"Without your help, this would not have been possible to make it\"));\t\t\t\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"Thanks for your support!\"));\r\n\t\t\tslide = createSlide(LocaleWatcher.getStringSync(\"(in case if you want to change website or name, just let me know - AS3Boyan)\"));\r\n\r\n\t\t\tBrowser.document.body.appendChild(impressDiv);\r\n\t\t\t\r\n\t\t\trunImpressJS();\r\n\t\t\t\r\n\t\t\tvar window = Window.get();\r\n\t\t\twindow.on(\"close\", function (e)\r\n\t\t\t{\r\n\t\t\t\twindow.close(true);\r\n\t\t\t}\r\n\t\t\t);\r\n\t\t};\r\n\t}\r\n\t\r\n\tprivate static function createSlide(text:String, ?url:String, ?linkText:String, ?_fontSize:String = \"80px\"):DivElement\r\n\t{\r\n\t\tslidesCount++;\r\n\r\n\t\tvar slide:DivElement = Browser.document.createDivElement();\r\n\t\tslide.id = \"slide\" + Std.string(slidesCount);\r\n\t\tslide.className = \"step\";\r\n\t\t\r\n\t\tslide.setAttribute(\"data-rotate\", Std.string(Std.random(360)));\r\n\t\tslide.setAttribute(\"data-scale\", Std.string(Math.random() * 25 + 1));\r\n\t\tslide.setAttribute(\"data-x\", Std.string( Math.random() * 100000));\r\n\t\tslide.setAttribute(\"data-y\", Std.string( Math.random() * 100000));\r\n\t\tslide.setAttribute(\"data-z\", Std.string( -Math.random() * 3000));\r\n\t\tslide.setAttribute(\"data-rotate-x\", Std.string(Std.random(360)));\r\n\t\tslide.setAttribute(\"data-rotate-y\", Std.string(Std.random(360)));\r\n\t\t\r\n\t\tvar p:ParagraphElement = Browser.document.createParagraphElement();\r\n\t\tp.style.width = \"1000px\";\r\n\t\tp.style.fontSize = _fontSize;\r\n\t\tp.innerText = text;\r\n\t\tslide.appendChild(p);\r\n\r\n\t\tif (url != null)\r\n\t\t{\r\n\t\t\tp = Browser.document.createParagraphElement();\r\n\t\t\tp.className = \"footnote\";\r\n\t\t\tp.innerText = LocaleWatcher.getStringSync(\"Website: \");\r\n\t\t\tp.setAttribute(\"localeString\", \"Website: \");\r\n\t\t\tp.style.fontSize = \"24px\";\r\n\t\t\tslide.appendChild(p);\r\n\r\n\t\t\tvar a:AnchorElement = Browser.document.createAnchorElement();\r\n\t\t\ta.href = url;\r\n\t\t\ta.innerText = linkText;\r\n\t\t\ta.target = \"_blank\";\r\n\t\t\tp.appendChild(a);\r\n\t\t}\r\n\r\n\t\timpressDiv.appendChild(slide);\r\n\t\treturn slide;\r\n\t}\r\n\r\n\tprivate static function runImpressJS():Void\r\n\t{\t\t\r\n\t\tvar impressInstance:Dynamic = untyped impress();\r\n\t\timpressInstance.init();\r\n\t\t\r\n\t\t//Impress.js autoplay\r\n\t\t//ported to Haxe from\r\n\t\t//http://stackoverflow.com/questions/11694069/how-to-make-impress-js-slideshow-auto-play-and-loop\r\n\t\tBrowser.document.addEventListener('impress:stepenter', function (e):Void\r\n\t\t{\t\t\t\r\n\t\t\tif (autoplay)\r\n\t\t\t{\r\n\t\t\t\tvar duration:Int = (e.target.getAttribute('data-transition-duration') != null ? e.target.getAttribute('data-transition-duration') : 2500 + Std.random(1500)); // use the set duration or fallback to 2000ms\r\n\t\t\t\r\n\t\t\t\tTimer.delay(function () \r\n\t\t\t\t{\r\n\t\t\t\t\tif (autoplay)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuntyped impressInstance.next(); \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t, duration);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tBrowser.document.addEventListener(\"keyup\", function (e:KeyboardEvent)\r\n\t\t{\r\n\t\t\tautoplay = false;\r\n\t\t\t\r\n\t\t\tif (timer != null)\r\n\t\t\t{\r\n\t\t\t\ttimer.stop();\r\n\t\t\t\ttimer = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttimer = new Timer(15000);\r\n\t\t\t\r\n\t\t\ttimer.run = function ()\r\n\t\t\t{\r\n\t\t\t\tautoplay = true;\r\n\t\t\t\tuntyped impressInstance.next(); \r\n\t\t\t\ttimer.stop();\r\n\t\t\t\ttimer = null;\r\n\t\t\t};\r\n\t\t}\r\n\t\t);\r\n\t}\r\n}","package core;\r\nimport haxe.ds.StringMap.StringMap;\r\nimport js.Browser;\r\nimport js.html.Element;\r\nimport js.Node;\r\n//import jQuery.JQuery;\r\n//import js.node.Watchr;\r\nimport tjson.TJSON;\r\n\r\n/**\r\n * ...\r\n * @author AS3Boyan\r\n */\r\nclass LocaleWatcher\r\n{\r\n\tstatic var localeData:Dynamic;\r\n\tstatic var watcher:Dynamic;\r\n\t\r\n\tpublic static function load():Void \r\n\t{\r\n\t\tif (watcher != null) \r\n\t\t{\r\n\t\t\twatcher.close();\r\n\t\t}\r\n\t\t\r\n\t\tparse();\r\n\t\t\r\n\t\t//watcher = Watchr.watch( {\r\n\t\t\t//path: SettingsWatcher.settings.locale,\r\n\t\t\t//listener:\r\n\t\t\t\t//function (changeType, filePath, fileCurrentStat, filePreviousStat):Void \r\n\t\t\t\t//{\r\n\t\t\t\t\t//if (changeType == \"update\") \r\n\t\t\t\t\t//{\r\n\t\t\t\t\t\t//parse();\r\n\t\t\t\t\t\t//processHtmlElements();\r\n\t\t\t\t\t//}\r\n\t\t\t\t//},\r\n\t\t\t//interval: 1500\r\n\t\t//}\r\n\t\t//);\r\n\t\t\r\n\t\tprocessHtmlElements();\r\n\t}\r\n\t\r\n\tstatic function parse():Void \r\n\t{\r\n\t\tvar options:NodeFsFileOptions = { };\r\n\t\toptions.encoding = NodeC.UTF8;\r\n\t\t\r\n\t\tvar data:String = Node.fs.readFileSync(SettingsWatcher.settings.locale, options);\r\n\t\t\r\n\t\tlocaleData = TJSON.parse(data);\r\n\t}\r\n\t\r\n\tpublic static function getStringSync(name:String):String\r\n\t{\r\n\t\tvar value:String = name;\r\n\t\t\r\n\t\tif (Reflect.hasField(localeData, name)) \r\n\t\t{\r\n\t\t\tvalue = Reflect.field(localeData, name);\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\tReflect.setField(localeData, name, name);\r\n\t\t\tvar data:String = TJSON.encode(localeData, 'fancy');\r\n\t\t\tNode.fs.writeFileSync(SettingsWatcher.settings.locale, data, NodeC.UTF8);\r\n\t\t}\r\n\t\t\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\tstatic function processHtmlElements()\r\n\t{\r\n\t\tvar element:Element;\r\n\t\tvar value:String;\r\n\t\t\r\n\t\tfor (node in Browser.document.getElementsByTagName(\"*\")) \r\n\t\t{\r\n\t\t\telement = cast(node, Element);\r\n\t\t\t\r\n\t\t\tvalue = element.getAttribute(\"localeString\");\r\n\t\t\t\r\n\t\t\tif (value != null) \r\n\t\t\t{\r\n\t\t\t\telement.textContent = getStringSync(value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","/*\n * Copyright (C)2005-2013 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tThe Timer class allows you to create asynchronous timers on platforms that\n\tsupport events.\n\n\tThe intended usage is to create an instance of the Timer class with a given\n\tinterval, set its run() method to a custom function to be invoked and\n\teventually call stop() to stop the Timer.\n\n\tNote that a running Timer may or may not prevent the program to exit\n\tautomatically when main() returns.\n\n\tIt is also possible to extend this class and override its run() method in\n\tthe child class.\n**/\nclass Timer {\n\t#if (flash || js || java)\n\n\t#if (flash || js)\n\t\tprivate var id : Null<Int>;\n\t#elseif java\n\t\tprivate var timer : java.util.Timer;\n\t\tprivate var task : java.util.TimerTask;\n\t#end\n\n\t/**\n\t\tCreates a new timer that will run every `time_ms` milliseconds.\n\n\t\tAfter creating the Timer instance, it calls `this].run` repeatedly,\n\t\twith delays of `time_ms` milliseconds, until `this.stop` is called.\n\n\t\tThe first invocation occurs after `time_ms` milliseconds, not\n\t\timmediately.\n\n\t\tThe accuracy of this may be platform-dependent.\n\t**/\n\tpublic function new( time_ms : Int ){\n\t\t#if flash9\n\t\t\tvar me = this;\n\t\t\tid = untyped __global__[\"flash.utils.setInterval\"](function() { me.run(); },time_ms);\n\t\t#elseif flash\n\t\t\tvar me = this;\n\t\t\tid = untyped _global[\"setInterval\"](function() { me.run(); },time_ms);\n\t\t#elseif js\n\t\t\tvar me = this;\n\t\t\tid = untyped setInterval(function() me.run(),time_ms);\n\t\t#elseif java\n\t\t\ttimer = new java.util.Timer();\n\t\t\ttimer.scheduleAtFixedRate(task = new TimerTask(this), haxe.Int64.ofInt(time_ms), haxe.Int64.ofInt(time_ms));\n\t\t#end\n\t}\n\n\t/**\n\t\tStops `this` Timer.\n\n\t\tAfter calling this method, no additional invocations of `this.run`\n\t\twill occur.\n\n\t\tIt is not possible to restart `this` Timer once stopped.\n\t**/\n\tpublic function stop() {\n\t\t#if (flash || js)\n\t\t\tif( id == null )\n\t\t\t\treturn;\n\t\t\t#if flash9\n\t\t\t\tuntyped __global__[\"flash.utils.clearInterval\"](id);\n\t\t\t#elseif flash\n\t\t\t\tuntyped _global[\"clearInterval\"](id);\n\t\t\t#elseif js\n\t\t\t\tuntyped clearInterval(id);\n\t\t\t#end\n\t\t\tid = null;\n\t\t#elseif java\n\t\t\ttimer.cancel();\n\t\t\ttimer = null;\n\t\t\ttask = null;\n\t\t#end\n\t}\n\n\t/**\n\t\tThis method is invoked repeatedly on `this` Timer.\n\n\t\tIt can be overridden in a subclass, or rebound directly to a custom\n\t\tfunction:\n\t\t\tvar timer = new haxe.Timer(1000); // 1000ms delay\n\t\t\ttimer.run = function() { ... }\n\n\t\tOnce bound, it can still be rebound to different functions until `this`\n\t\tTimer is stopped through a call to `this.stop`.\n\t**/\n\tpublic dynamic function run() {\n\n\t}\n\n\t/**\n\t\tInvokes `f` after `time_ms` milliseconds.\n\n\t\tThis is a convenience function for creating a new Timer instance with\n\t\t`time_ms` as argument, binding its run() method to `f` and then stopping\n\t\t`this` Timer upon the first invocation.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function delay( f : Void -> Void, time_ms : Int ) {\n\t\tvar t = new haxe.Timer(time_ms);\n\t\tt.run = function() {\n\t\t\tt.stop();\n\t\t\tf();\n\t\t};\n\t\treturn t;\n\t}\n\n\t#end\n\n\t/**\n\t\tMeasures the time it takes to execute `f`, in seconds with fractions.\n\n\t\tThis is a convenience function for calculating the difference between\n\t\tTimer.stamp() before and after the invocation of `f`.\n\n\t\tThe difference is passed as argument to Log.trace(), with \"s\" appended\n\t\tto denote the unit. The optional `pos` argument is passed through.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function measure<T>( f : Void -> T, ?pos : PosInfos ) : T {\n\t\tvar t0 = stamp();\n\t\tvar r = f();\n\t\tLog.trace((stamp() - t0) + \"s\", pos);\n\t\treturn r;\n\t}\n\n\t/**\n\t\tReturns a timestamp, in seconds with fractions.\n\n\t\tThe value itself might differ depending on platforms, only differences\n\t\tbetween two values make sense.\n\t**/\n\tpublic static function stamp() : Float {\n\t\t#if flash\n\t\t\treturn flash.Lib.getTimer() / 1000;\n\t\t#elseif (neko || php)\n\t\t\treturn Sys.time();\n\t\t#elseif js\n\t\t\treturn Date.now().getTime() / 1000;\n\t\t#elseif cpp\n\t\t\treturn untyped __global__.__time_stamp();\n\t\t#elseif sys\n\t\t\treturn Sys.time();\n\t\t#else\n\t\t\treturn 0;\n\t\t#end\n\t}\n\n}\n\n#if java\n@:nativeGen\nprivate class TimerTask extends java.util.TimerTask {\n\tvar timer:Timer;\n\tpublic function new(timer:Timer):Void {\n\t\tsuper();\n\t\tthis.timer = timer;\n\t}\n\n\t@:overload public function run():Void {\n\t\ttimer.run();\n\t}\n}\n#end","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tSince all platforms does not guarantee that String always uses UTF-8 encoding, you\n\tcan use this crossplatform API to perform operations on such strings.\n**/\nclass Utf8 {\n\n\tvar __b : String;\n\n\t/**\n\t\tAllocate a new Utf8 buffer using an optional bytes size.\n\t**/\n\tpublic function new( ?size : Int ) {\n\t\t__b = \"\";\n\t}\n\n\t/**\n\t\tAdd the given UTF8 character code to the buffer.\n\t**/\n\tpublic inline function addChar( c : Int ) : Void {\n\t\t__b += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tReturns the buffer converted to a String;\n\t**/\n\tpublic inline function toString() : String {\n\t\treturn __b;\n\t}\n\n\t/**\n\t\tCall the `chars` function for each UTF8 char of the string.\n\t**/\n\tpublic static function iter( s : String, chars : Int -> Void ) {\n\t\tfor( i in 0...s.length )\n\t\t\tchars(s.charCodeAt(i));\n\t}\n\n\t/**\n\t\tEncode the input ISO string into the corresponding UTF8 one.\n\t**/\n\tpublic static function encode( s : String ) : String {\n\t\tthrow \"Not implemented\";\n\t\treturn s;\n\t}\n\n\t/**\n\t\tDecode an UTF8 string back to an ISO string.\n\t\tThrow an exception if a given UTF8 character is not supported by the decoder.\n\t**/\n\tpublic static function decode( s : String ) : String {\n\t\tthrow \"Not implemented\";\n\t\treturn s;\n\t}\n\n\t/**\n\t\tSimilar to `String.charCodeAt` but uses the UTF8 character position.\n\t**/\n\tpublic static inline function charCodeAt( s : String, index : Int ) : Int {\n\t\treturn s.charCodeAt(index);\n\t}\n\n\t/**\n\t\tTells if the String is correctly encoded as UTF8.\n\t**/\n\tpublic static inline function validate( s : String ) : Bool {\n\t\treturn true;\n\t}\n\n\t/**\n\t\tReturns the number of UTF8 chars of the String.\n\t**/\n\t#if js @:extern #end\n\tpublic static inline function length( s : String ) : Int {\n\t\treturn s.length;\n\t}\n\n\t/**\n\t\tCompare two UTF8 strings, character by character.\n\t**/\n\tpublic static function compare( a : String, b : String ) : Int {\n\t\treturn a > b ? 1 : (a == b ? 0 : -1);\n\t}\n\n\t/**\n\t\tThis is similar to `String.substr` but the `pos` and `len` parts are considering UTF8 characters.\n\t**/\n\tpublic static inline function sub( s : String, pos : Int, len : Int ) : String {\n\t\treturn s.substr(pos,len);\n\t}\n\n}","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe.ds;\n\n@:coreApi class StringMap<T> implements Map.IMap<String,T> {\n\n\tprivate var h : Dynamic;\n\n\tpublic function new() : Void {\n\t\th = {};\n\t}\n\n\tpublic function set( key : String, value : T ) : Void {\n\t\tuntyped h[\"$\"+key] = value;\n\t}\n\n\tpublic function get( key : String ) : Null<T> {\n\t\treturn untyped h[\"$\"+key];\n\t}\n\n\tpublic function exists( key : String ) : Bool {\n\t\treturn untyped h.hasOwnProperty(\"$\"+key);\n\t}\n\n\tpublic function remove( key : String ) : Bool {\n\t\tkey = \"$\"+key;\n\t\tif( untyped !h.hasOwnProperty(key) ) return false;\n\t\tuntyped __js__(\"delete\")(h[key]);\n\t\treturn true;\n\t}\n\n\tpublic function keys() : Iterator<String> {\n\t\tvar a = [];\n\t\tuntyped {\n\t\t\t__js__(\"for( var key in this.h ) {\");\n\t\t\t\tif( h.hasOwnProperty(key) )\n\t\t\t\t\ta.push(key.substr(1));\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a.iterator();\n\t}\n\n\tpublic function iterator() : Iterator<T> {\n\t\treturn untyped {\n\t\t\tref : h,\n\t\t\tit : keys(),\n\t\t\thasNext : function() { return __this__.it.hasNext(); },\n\t\t\tnext : function() { var i = __this__.it.next(); return __this__.ref[\"$\"+i]; }\n\t\t};\n\t}\n\n\tpublic function toString() : String {\n\t\tvar s = new StringBuf();\n\t\ts.add(\"{\");\n\t\tvar it = keys();\n\t\tfor( i in it ) {\n\t\t\ts.add(i);\n\t\t\ts.add(\" => \");\n\t\t\ts.add(Std.string(get(i)));\n\t\t\tif( it.hasNext() )\n\t\t\t\ts.add(\", \");\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n}\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js;\n\nclass Boot {\n\n\tprivate static function __unhtml(s : String) {\n\t\treturn s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t}\n\n\tprivate static function __trace(v,i : haxe.PosInfos) {\n\t\tuntyped {\n\t\t\tvar msg = if( i != null ) i.fileName+\":\"+i.lineNumber+\": \" else \"\";\n\t\t\t#if jsfl\n\t\t\tmsg += __string_rec(v,\"\");\n\t\t\tfl.trace(msg);\n\t\t\t#else\n\t\t\tmsg += __string_rec(v, \"\");\n\t\t\tif( i != null && i.customParams != null )\n\t\t\t\tfor( v in i.customParams )\n\t\t\t\t\tmsg += \",\" + __string_rec(v, \"\");\n\t\t\tvar d;\n\t\t\tif( __js__(\"typeof\")(document) != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null )\n\t\t\t\td.innerHTML += __unhtml(msg)+\"<br/>\";\n\t\t\telse if( __js__(\"typeof console\") != \"undefined\" && __js__(\"console\").log != null )\n\t\t\t\t__js__(\"console\").log(msg);\n\t\t\t#end\n\t\t}\n\t}\n\n\tprivate static function __clear_trace() {\n\t\tuntyped {\n\t\t\t#if jsfl\n\t\t\tfl.outputPanel.clear();\n\t\t\t#else\n\t\t\tvar d = document.getElementById(\"haxe:trace\");\n\t\t\tif( d != null )\n\t\t\t\td.innerHTML = \"\";\n\t\t\t#end\n\t\t}\n\t}\n\n\tstatic inline function isClass(o:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\tstatic inline function getClass(o:Dynamic) : Dynamic {\n\t\tif (Std.is(o, Array))\n\t\t\treturn Array;\n\t\telse\n\t\t\treturn untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o,s:String) {\n\t\tuntyped {\n\t\t\tif( o == null )\n\t\t\t    return \"null\";\n\t\t\tif( s.length >= 5 )\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = __js__(\"typeof(o)\");\n\t\t\tif( t == \"function\" && (isClass(o) || isEnum(o)) )\n\t\t\t\tt = \"object\";\n\t\t\tswitch( t ) {\n\t\t\tcase \"object\":\n\t\t\t\tif( __js__(\"o instanceof Array\") ) {\n\t\t\t\t\tif( o.__enum__ ) {\n\t\t\t\t\t\tif( o.length == 2 )\n\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\tvar str = o[0]+\"(\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor( i in 2...o.length ) {\n\t\t\t\t\t\t\tif( i != 2 )\n\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i],s);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tstr += __string_rec(o[i],s);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tvar l = o.length;\n\t\t\t\t\tvar i;\n\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tfor( i in 0...l )\n\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\")+__string_rec(o[i],s);\n\t\t\t\t\tstr += \"]\";\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t\tvar tostr;\n\t\t\t\ttry {\n\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t} catch( e : Dynamic ) {\n\t\t\t\t\t// strange error on IE\n\t\t\t\t\treturn \"???\";\n\t\t\t\t}\n\t\t\t\tif( tostr != null && tostr != __js__(\"Object.toString\") ) {\n\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\tif( s2 != \"[object Object]\")\n\t\t\t\t\t\treturn s2;\n\t\t\t\t}\n\t\t\t\tvar k : String = null;\n\t\t\t\tvar str = \"{\\n\";\n\t\t\t\ts += \"\\t\";\n\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t__js__(\"for( var k in o ) {\");\n\t\t\t\t\tif( hasp && !o.hasOwnProperty(k) )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\" )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( str.length != 2 )\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \"+__string_rec(o[k],s);\n\t\t\t\t__js__(\"}\");\n\t\t\t\ts = s.substring(1);\n\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\treturn str;\n\t\t\tcase \"function\":\n\t\t\t\treturn \"<function>\";\n\t\t\tcase \"string\":\n\t\t\t\treturn o;\n\t\t\tdefault:\n\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static function __interfLoop(cc : Dynamic,cl : Dynamic) {\n\t\tif( cc == null )\n\t\t\treturn false;\n\t\tif( cc == cl )\n\t\t\treturn true;\n\t\tvar intf : Dynamic = cc.__interfaces__;\n\t\tif( intf != null )\n\t\t\tfor( i in 0...intf.length ) {\n\t\t\t\tvar i : Dynamic = intf[i];\n\t\t\t\tif( i == cl || __interfLoop(i,cl) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\treturn __interfLoop(cc.__super__,cl);\n\t}\n\n\t@:ifFeature(\"typed_catch\") private static function __instanceof(o : Dynamic,cl : Dynamic) {\n\t\tif( cl == null )\n\t\t\treturn false;\n\t\tswitch( cl ) {\n\t\tcase Int:\n\t\t\treturn (untyped __js__(\"(o|0) === o\"));\n\t\tcase Float:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\";\n\t\tcase Bool:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"boolean\";\n\t\tcase String:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"string\";\n\t\tcase Array:\n\t\t\treturn (untyped __js__(\"(o instanceof Array)\")) && o.__enum__ == null;\n\t\tcase Dynamic:\n\t\t\treturn true;\n\t\tdefault:\n\t\t\tif( o != null ) {\n\t\t\t\t// Check if o is an instance of a Haxe class\n\t\t\t\tif( (untyped __js__(\"typeof\"))(cl) == \"function\" ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif( __interfLoop(getClass(o),cl) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// do not use isClass/isEnum here\n\t\t\tuntyped __feature__(\"Class.*\",if( cl == Class && o.__name__ != null ) return true);\n\t\t\tuntyped __feature__(\"Enum.*\",if( cl == Enum && o.__ename__ != null ) return true);\n\t\t\treturn o.__enum__ == cl;\n\t\t}\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o : Dynamic, t : Dynamic) {\n\t\tif (__instanceof(o, t)) return o;\n\t\telse throw \"Cannot cast \" +Std.string(o) + \" to \" +Std.string(t);\n\t}\n\n}\n","\npackage tjson;\nusing StringTools;\nclass TJSON {\n\n\tstatic var pos:Int;\n\tstatic var json:String;\n\tstatic var lastSymbolQuoted:Bool; //true if the last symbol was in quotes.\n\tstatic var fileName:String;\n\tstatic var currentLine:Int;\n\tstatic var floatRegex;\n\tstatic var intRegex;\n\n\tstatic var strProcessor:String->Dynamic;\n\n\t/**\n\t * Parses a JSON string into a haxe dynamic object or array.\n\t * @param String - The JSON string to parse\n\t * @param String the file name to whic the JSON code belongs. Used for generating nice error messages.\n\t */\n\tpublic static function parse(json:String, ?fileName:String=\"JSON Data\", ?stringProcessor:String->Dynamic = null):Dynamic{\n\t\tfloatRegex = ~/^-?[0-9]*\\.[0-9]+$/;\n\t\tintRegex = ~/^-?[0-9]+$/;\n\t\tTJSON.json = json;\n\t\tTJSON.fileName = fileName;\n\t\tTJSON.currentLine = 1;\n\t\tpos = 0;\n\t\tstrProcessor = (stringProcessor==null? defaultStringProcessor : stringProcessor);\n\t\t\n\t\ttry{\n\t\t\treturn doParse();\n\t\t}catch(e:String){\n\t\t\tthrow fileName+\" on line \"+currentLine+\": \"+e;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Serializes a dynamic object or an array into a JSON string.\n\t * @param Dynamic - The object to be serialized\n\t * @param Dynamic - The style to use. Either an object implementing EncodeStyle interface or the strings 'fancy' or 'simple'.\n\t */\n\tpublic static function encode(obj:Dynamic, ?style:Dynamic=null):String{\n\t\tif(!Reflect.isObject(obj)){\n\t\t\tthrow(\"Provided object is not an object.\");\n\t\t}\n\t\tvar st:EncodeStyle;\n\t\tif(Std.is(style, EncodeStyle)){\n\t\t\tst = style;\n\t\t}\n\t\telse if(style == 'fancy'){\n\t\t\tst = new FancyStyle();\n\t\t}\n\t\telse st = new SimpleStyle();\n\t\tvar buffer = new StringBuf();\n\t\tif(Std.is(obj,Array) || Std.is(obj,List)) {\n\t\t\tencodeIterable(buffer, obj, st, 0);\n\n\t\t} else if(Std.is(obj, haxe.ds.StringMap)){\n\t\t\tencodeMap(buffer, obj, st, 0);\n\t\t} else {\n\t\t\tencodeObject(buffer, obj, st, 0);\n\t\t}\n\t\treturn buffer.toString();\n\t\t\n\t\t \n\t}\n\n\tprivate static function defaultStringProcessor(str:String):Dynamic{\n\t\treturn str;\n\t}\n\n\tprivate static function doParse():Dynamic{\n\t\t//determine if objector array\n\t\tvar s = getNextSymbol();\n\t\tif(s == '{'){\n\t\t\treturn doObject();\n\t\t}\n\n\t\tif(s == '['){\n\t\t\treturn doArray();\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static function doObject():Dynamic{\n\t\tvar o:Dynamic = { };\n\t\tvar val:Dynamic ='';\n\t\tvar key:String;\n\t\twhile(pos < json.length){\n\t\t\tkey=getNextSymbol();\n\t\t\tif(key == \",\" && !lastSymbolQuoted)continue;\n\t\t\tif(key == \"}\" && !lastSymbolQuoted){\n\n\t\t\t\treturn o;\n\t\t\t}\n\t\t\tvar seperator = getNextSymbol();\n\t\t\tif(seperator != \":\"){\n\t\t\t\tthrow(\"Expected ':' but got '\"+seperator+\"' instead.\");\n\t\t\t}\n\n\t\t\tvar v = getNextSymbol();\n\t\t\tif(v == \"{\" && !lastSymbolQuoted){\n\t\t\t\tval = doObject();\n\t\t\t}else if(v == \"[\" && !lastSymbolQuoted){\n\t\t\t\tval = doArray();\n\t\t\t}else{\n\t\t\t\tval = convertSymbolToProperType(v);\n\t\t\t}\n\t\t\tReflect.setField(o,key,val);\n\t\t}\n\t\tthrow \"Unexpected end of file. Expected '}'\";\n\t\t\n\t}\n\n\tprivate static function doArray():Dynamic{\n\t\tvar a:Array<Dynamic> = new Array<Dynamic>();\n\t\tvar val:Dynamic;\n\t\twhile(pos < json.length){\n\t\t\tval=getNextSymbol();\n\t\t\tif(val == ',' && !lastSymbolQuoted){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if(val == ']' && !lastSymbolQuoted){\n\t\t\t\treturn a;\n\t\t\t}\n\t\t\telse if(val == \"{\" && !lastSymbolQuoted){\n\t\t\t\tval = doObject();\n\t\t\t}else if(val == \"[\" && !lastSymbolQuoted){\n\t\t\t\tval = doArray();\n\t\t\t}else{\n\t\t\t\tval = convertSymbolToProperType(val);\n\t\t\t}\n\t\t\ta.push(val);\n\t\t}\n\t\tthrow \"Unexpected end of file. Expected ']'\";\n\t}\n\n\tprivate static function convertSymbolToProperType(symbol):Dynamic{\n\t\tif(lastSymbolQuoted) return symbol; //things is quotes are always strings\n\t\tif(looksLikeFloat(symbol)){\n\t\t\treturn Std.parseFloat(symbol);\n\t\t}\n\t\tif(looksLikeInt(symbol)){\n\t\t\treturn Std.parseInt(symbol);\n\t\t}\n\t\tif(symbol.toLowerCase() == \"true\"){\n\t\t\treturn true;\n\t\t}\n\t\tif(symbol.toLowerCase() == \"false\"){\n\t\t\treturn false;\n\t\t}\n\t\tif(symbol.toLowerCase() == \"null\"){\n\t\t\treturn null;\n\t\t}\n\t\treturn symbol;\n\t}\n\n\n\tprivate static function looksLikeFloat(s:String):Bool{\n\t\treturn floatRegex.match(s);\n\t}\n\n\tprivate static function looksLikeInt(s:String):Bool{\n\t\treturn intRegex.match(s);\n\t}\n\n\tprivate static function getNextSymbol(){\n\t\tlastSymbolQuoted=false;\n\t\tvar c:String = '';\n\t\tvar inQuote:Bool = false;\n\t\tvar quoteType:String=\"\";\n\t\tvar symbol:String = '';\n\t\tvar inEscape:Bool = false;\n\t\tvar inSymbol:Bool = false;\n\t\tvar inLineComment = false;\n\t\tvar inBlockComment = false;\n\n\t\twhile(pos < json.length){\n\t\t\tc = json.charAt(pos++);\n\t\t\tif(c == \"\\n\" && !inSymbol)\n\t\t\t\tcurrentLine++;\n\t\t\tif(inLineComment){\n\t\t\t\tif(c == \"\\n\" || c == \"\\r\"){\n\t\t\t\t\tinLineComment = false;\n\t\t\t\t\tpos++;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(inBlockComment){\n\t\t\t\tif(c==\"*\" && json.charAt(pos) == \"/\"){\n\t\t\t\t\tinBlockComment = false;\n\t\t\t\t\tpos++;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(inQuote){\n\t\t\t\tif(inEscape){\n\t\t\t\t\tinEscape = false;\n\t\t\t\t\tif(c==\"'\" || c=='\"'){\n\t\t\t\t\t\tsymbol += c;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(c==\"t\"){\n\t\t\t\t\t\tsymbol += \"\\t\";\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(c==\"n\"){\n\t\t\t\t\t\tsymbol += \"\\n\";\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(c==\"\\\\\"){\n\t\t\t\t\t\tsymbol += \"\\\\\";\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(c==\"r\"){\n\t\t\t\t\t\tsymbol += \"\\r\";\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(c==\"/\"){\n\t\t\t\t\t\tsymbol += \"/\";\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==\"u\"){\n                        var hexValue = 0;\n\n                        for (i in 0...4){\n                            if (pos >= json.length)\n                              throw \"Unfinished UTF8 character\";\n\t\t\t                var nc = json.charCodeAt(pos++);\n                            hexValue = hexValue << 4;\n                            if (nc >= 48 && nc <= 57) // 0..9\n                              hexValue += nc - 48;\n                            else if (nc >= 65 && nc <= 70) // A..F\n                              hexValue += 10 + nc - 65;\n                            else if (nc >= 97 && nc <= 102) // a..f\n                              hexValue += 10 + nc - 95;\n                            else throw \"Not a hex digit\";\n                        }\n                        \n\t\t\t\t\t\tvar utf = new haxe.Utf8();\n\t\t\t\t\t\tutf.addChar(hexValue);\n\t\t\t\t\t\tsymbol += utf.toString();\n                        \n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\n\t\t\t\t\tthrow \"Invalid escape sequence '\\\\\"+c+\"'\";\n\t\t\t\t}else{\n\t\t\t\t\tif(c == \"\\\\\"){\n\t\t\t\t\t\tinEscape = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(c == quoteType){\n\t\t\t\t\t\treturn symbol;\n\t\t\t\t\t}\n\t\t\t\t\tsymbol+=c;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t//handle comments\n\t\t\telse if(c == \"/\"){\n\t\t\t\tvar c2 = json.charAt(pos);\n\t\t\t\t//handle single line comments.\n\t\t\t\t//These can even interrupt a symbol.\n\t\t\t\tif(c2 == \"/\"){\n\t\t\t\t\tinLineComment=true;\n\t\t\t\t\tpos++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t//handle block comments.\n\t\t\t\t//These can even interrupt a symbol.\n\t\t\t\telse if(c2 == \"*\"){\n\t\t\t\t\tinBlockComment=true;\n\t\t\t\t\tpos++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\n\t\t\tif (inSymbol){\n\t\t\t\tif(c==' ' || c==\"\\n\" || c==\"\\r\" || c==\"\\t\" || c==',' || c==\":\" || c==\"}\" || c==\"]\"){ //end of symbol, return it\n\t\t\t\t\tpos--;\n\t\t\t\t\treturn symbol;\n\t\t\t\t}else{\n\t\t\t\t\tsymbol+=c;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(c==' ' || c==\"\\t\" || c==\"\\n\" || c==\"\\r\"){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif(c==\"{\" || c==\"}\" || c==\"[\" || c==\"]\" || c==\",\" || c == \":\"){\n\t\t\t\t\treturn c;\n\t\t\t\t}\n\n\n\n\t\t\t\tif(c==\"'\" || c=='\"'){\n\t\t\t\t\tinQuote = true;\n\t\t\t\t\tquoteType = c;\n\t\t\t\t\tlastSymbolQuoted = true;\n\t\t\t\t\tcontinue;\n\t\t\t\t}else{\n\t\t\t\t\tinSymbol=true;\n\t\t\t\t\tsymbol = c;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t} // end of while. We have reached EOF if we are here.\n\t\tif(inQuote){\n\t\t\tthrow \"Unexpected end of data. Expected ( \"+quoteType+\" )\";\n\t\t}\n\t\treturn symbol;\n\t}\n\n\tprivate static function encodeObject(buffer:StringBuf, obj:Dynamic,style:EncodeStyle,depth:Int):Void {\n\t\tbuffer.add(style.beginObject(depth));\n\t\tvar fieldCount = 0;\n\t\tvar fields:Array<String>;\n\t\tvar cls = Type.getClass(obj);\n\t\tif (cls != null) {\n\t\t\tfields = Type.getInstanceFields(cls);\n\t\t} else {\n\t\t\tfields = Reflect.fields(obj);\n\t\t}\n\t\tfor (field in fields){\n\t\t\tif(fieldCount++ > 0) buffer.add(style.entrySeperator(depth));\n\t\t\telse buffer.add(style.firstEntry(depth));\n\t\t\tvar value:Dynamic = Reflect.field(obj,field);\n\t\t\tbuffer.add('\"'+field+'\"'+style.keyValueSeperator(depth));\n\t\t\tencodeValue(buffer, value, style, depth);\n\t\t}\n\t\tbuffer.add(style.endObject(depth));\n\t}\n\n\n\tprivate static function encodeMap(buffer:StringBuf, obj:Map<Dynamic, Dynamic>,style:EncodeStyle,depth:Int):Void {\n\t\tbuffer.add(style.beginObject(depth));\n\t\tvar fieldCount = 0;\n\t\tfor (field in obj.keys()){\n\t\t\tif(fieldCount++ > 0) buffer.add(style.entrySeperator(depth));\n\t\t\telse buffer.add(style.firstEntry(depth));\n\t\t\tvar value:Dynamic = obj.get(field);\n\t\t\tbuffer.add('\"'+field+'\"'+style.keyValueSeperator(depth));\n\t\t\tencodeValue(buffer, value, style, depth);\n\t\t}\n\t\tbuffer.add(style.endObject(depth));\n\t}\n\n\n\tprivate static function encodeIterable(buffer:StringBuf, obj:Iterable<Dynamic>, style:EncodeStyle, depth:Int):Void {\n\t\tbuffer.add(style.beginArray(depth));\n\t\tvar fieldCount = 0;\n\t\tfor (value in obj){\n\t\t\tif(fieldCount++ >0) buffer.add(style.entrySeperator(depth));\n\t\t\telse buffer.add(style.firstEntry(depth));\n\t\t\tencodeValue(buffer, value, style, depth);\n\t\t\t\n\t\t}\n\t\tbuffer.add(style.endArray(depth));\n\t}\n\n\tprivate static function encodeValue(buffer:StringBuf, value:Dynamic, style:EncodeStyle, depth:Int):Void {\n\t\tif(Std.is(value, Int) || Std.is(value,Float)){\n\t\t\t\tbuffer.add(value);\n\t\t}\n\t\telse if(Std.is(value,Array) || Std.is(value,List)){\n\t\t\tvar v: Array<Dynamic> = value;\n\t\t\tencodeIterable(buffer,v,style,depth+1);\n\t\t}\n\t\telse if(Std.is(value,List)){\n\t\t\tvar v: List<Dynamic> = value;\n\t\t\tencodeIterable(buffer,v,style,depth+1);\n\n\t\t}\n\t\telse if(Std.is(value,haxe.ds.StringMap)){\n\t\t\tencodeMap(buffer,value,style,depth+1);\n\n\t\t}\n\t\telse if(Std.is(value,String)){\n\t\t\tbuffer.add('\"'+Std.string(value).replace(\"\\\\\",\"\\\\\\\\\").replace(\"\\n\",\"\\\\n\").replace(\"\\r\",\"\\\\r\").replace('\"','\\\\\"')+'\"');\n\t\t}\n\t\telse if(Std.is(value,Bool)){\n\t\t\tbuffer.add(value);\n\t\t}\n\t\telse if(Reflect.isObject(value)){\n\t\t\tencodeObject(buffer,value,style,depth+1);\n\t\t}\n\t\telse if(value == null){\n\t\t\tbuffer.add(\"null\");\n\t\t}\n\t\telse{\n\t\t\tthrow \"Unsupported field type: \"+Std.string(value);\n\t\t}\n\t}\n\n\t\n\n\n}\n\n\n\ninterface EncodeStyle{\n\t\n\tpublic function beginObject(depth:Int):String;\n\tpublic function endObject(depth:Int):String;\n\tpublic function beginArray(depth:Int):String;\n\tpublic function endArray(depth:Int):String;\n\tpublic function firstEntry(depth:Int):String;\n\tpublic function entrySeperator(depth:Int):String;\n\tpublic function keyValueSeperator(depth:Int):String;\n\n}\n\nclass SimpleStyle implements EncodeStyle{\n\tpublic function new(){\n\n\t}\n\tpublic function beginObject(depth:Int):String{\n\t\treturn \"{\";\n\t}\n\tpublic function endObject(depth:Int):String{\n\t\treturn \"}\";\n\t}\n\tpublic function beginArray(depth:Int):String{\n\t\treturn \"[\";\n\t}\n\tpublic function endArray(depth:Int):String{\n\t\treturn \"]\";\n\t}\n\tpublic function firstEntry(depth:Int):String{\n\t\treturn \"\";\n\t}\n\tpublic function entrySeperator(depth:Int):String{\n\t\treturn \",\";\n\t}\n\tpublic function keyValueSeperator(depth:Int):String{\n\t\treturn \":\";\n\t}\n\t\n}\n\n\nclass FancyStyle implements EncodeStyle{\n\tpublic var tab(default, null):String;\n\tpublic function new(tab:String = \"    \"){\n\t\tthis.tab = tab;\n\t\tcharTimesNCache = [\"\"];\n\t}\n\tpublic function beginObject(depth:Int):String{\n\t\treturn \"{\\n\";\n\t}\n\tpublic function endObject(depth:Int):String{\n\t\treturn \"\\n\"+charTimesN(depth)+\"}\";\n\t}\n\tpublic function beginArray(depth:Int):String{\n\t\treturn \"[\\n\";\n\t}\n\tpublic function endArray(depth:Int):String{\n\t\treturn \"\\n\"+charTimesN(depth)+\"]\";\n\t}\n\tpublic function firstEntry(depth:Int):String{\n\t\treturn charTimesN(depth+1)+' ';\n\t}\n\tpublic function entrySeperator(depth:Int):String{\n\t\treturn \"\\n\"+charTimesN(depth+1)+\",\";\n\t}\n\tpublic function keyValueSeperator(depth:Int):String{\n\t\treturn \" : \";\n\t}\n\tprivate var charTimesNCache:Array<String>;\n\tprivate function charTimesN(n:Int):String{\n\t\treturn if (n < charTimesNCache.length) {\n\t\t\tcharTimesNCache[n];\n\t\t} else {\n\t\t\tcharTimesNCache[n] = charTimesN(n-1) + tab;\n\t\t}\n\t}\n\t\n}\n\n\n\n\n","/*\n * Copyright (C)2005-2012 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tThis class defines mathematical functions and constants.\n**/\n#if cpp @:include(\"hxMath\") #end\nextern class Math\n{\n\t/**\n\t\tRepresents the ratio of the circumference of a circle to its diameter, \n\t\tspecified by the constant, . `PI` is approximately 3.141592653589793.\n\t**/\n\tstatic var PI(default,null) : Float;\n\n\t/**\n\t\tA special Float constant which denotes negative infinity.\n\n\t\tFor example, this is the result of -1.0 / 0.0.\n\n\t\tOperations with NEGATIVE_INFINITY as an operand may result in\n\t\tNEGATIVE_INFINITY, POSITIVE_INFINITY or NaN. \n\n\t\tIf this constant is converted to an Int, e.g. through Std.int(), the\n\t\tresult is unspecified.\n\t**/\n\tstatic var NEGATIVE_INFINITY(default, null) : Float;\n\n\t/**\n\t\tA special Float constant which denotes negative infinity.\n\n\t\tFor example, this is the result of 1.0 / 0.0.\n\n\t\tOperations with POSITIVE_INFINITY as an operand may result in\n\t\tNEGATIVE_INFINITY, POSITIVE_INFINITY or NaN. \n\n\t\tIf this constant is converted to an Int, e.g. through Std.int(), the\n\t\tresult is unspecified.\n\t**/\n\tstatic var POSITIVE_INFINITY(default,null) : Float;\n\n\t/**\n\t\tA special Float constant which denotes an invalid number.\n\n\t\tNaN stands for \"Not a Number\". It occurs when a mathematically incorrect\n\t\toperation is executed, such as taking the square root of a negative\n\t\tnumber: Math.sqrt(-1).\n\n\t\tAll further operations with NaN as an operand will result in NaN.\n\n\t\tIf this constant is converted to an Int, e.g. through Std.int(), the\n\t\tresult is unspecified.\n\n\t\tIn order to test if a value is NaN, you should use Math.isNaN() function.\n\n\t\t@php In PHP versions prior to 5.3.1 VC 9 there may be unexpected\n\t\tresults when performing arithmetic operations with NaN on Windows, \n\t\tsee [https://bugs.php.net/bug.php?id=42143]\n\t**/\n\tstatic var NaN(default, null) : Float;\n\n\t/**\n\t\tReturns the absolute value of `v`.\n\n\t\tIf `v` is positive or 0, the result is unchanged. Otherwise the result \n\t\tis -`v`.\n\t\t\n\t\tIf `v` is NEGATIVE_INFINITY or POSITIVE_INFINITY, the result is \n\t\tPOSITIVE_INFINITY.\n\t\t\n\t\tIf `v` is NaN, the result is NaN.\n\t**/\n\tstatic function abs(v:Float):Float;\n\n\t/**\n\t\tReturns the smaller of values `a` and `b`.\n\n\t\tIf `a` or `b` are NaN, the result is NaN.\n\t\tIf `a` or `b` are NEGATIVE_INFINITY, the result is NEGATIVE_INFINITY.\n\t\tIf `a` and `b` are POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t**/\n\tstatic function min(a:Float, b:Float):Float;\n\n\t/**\n\t\tReturns the greater of values `a` and `b`.\n\n\t\tIf `a` or `b` are NaN, the result is NaN.\n\t\tIf `a` or `b` are POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `a` and `b` are NEGATIVE_INFINITY, the result is NEGATIVE_INFINITY.\n\t**/\n\tstatic function max(a:Float, b:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric sine of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function sin(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric cosine of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function cos(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric tangent of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function tan(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc of the specified angle `v`, in radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function asin(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc cosine of the specified angle `v`, \n\t\tin radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function acos(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc tangent of the specified angle `v`, \n\t\tin radians.\n\t\t\n\t\tIf `v` is NaN or infinite, the result is NaN.\n\t**/\n\tstatic function atan(v:Float):Float;\n\n\t/**\n\t\tReturns the trigonometric arc tangent whose tangent is the quotient of \n\t\ttwo specified numbers, in radians.\n\t\t\n\t\tIf parameter `x` or `y`  is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is NaN.\n\t**/\n\tstatic function atan2(y:Float, x:Float):Float;\n\n\t/**\n\t\tReturns Euler's number, raised to the power of `v`.\n\t\t\n\t\texp(1.0) is approximately 2.718281828459.\n\t\t\n\t\tIf `v` is POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `v` is NEGATIVE_INFINITY, the result is 0.0.\n\t\tIf `v` is NaN, the result is NaN.\n\t**/\n\tstatic function exp(v:Float):Float;\n\n\t/**\n\t\tReturns the natural logarithm of `v`.\n\t\t\n\t\tThis is the mathematical inverse operation of exp, \n\t\ti.e. `log(exp(v)) == v` always holds.\n\t\t\n\t\tIf `v` is negative (including NEGATIVE_INFINITY) or NaN, the result \n\t\tis NaN.\n\t\tIf `v` is POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `v` is 0.0, the result is NEGATIVE_INFINITY.\n\t**/\n\tstatic function log(v:Float):Float;\n\n\t/**\n\t\tReturns a specified base `v` raised to the specified power `exp`.\n\t**/\n\tstatic function pow(v:Float, exp:Float):Float;\n\n\t/**\n\t\tReturns the square root of `v`.\n\t\t\n\t\tIf `v` is negative (including NEGATIVE_INFINITY) or NaN, the result \n\t\tis NaN.\n\t\tIf `v` is POSITIVE_INFINITY, the result is POSITIVE_INFINITY.\n\t\tIf `v` is 0.0, the result is 0.0.\n\t**/\n\tstatic function sqrt(v:Float):Float;\n\n\t/**\n\t\tRounds `v` to the nearest integer value.\n\t\t\n\t\tIf `v` is outside of the signed Int32 range, or is NaN, NEGATIVE_INFINITY \n\t\tor POSITIVE_INFINITY, the result is unspecified.\n\t**/\n\tstatic function round(v:Float):Int;\n\n\t/**\n\t\tReturns the largest integer value that is not greater than `v`.\n\n\t\tIf `v` is outside of the signed Int32 range, or is NaN, NEGATIVE_INFINITY \n\t\tor POSITIVE_INFINITY, the result is unspecified.\n\t**/\n\tstatic function floor(v:Float):Int;\n\n\t/**\n\t\tReturns the smallest integer value that is not less than `v`.\n\n\t\tIf `v` is outside of the signed Int32 range, or is NaN, NEGATIVE_INFINITY \n\t\tor POSITIVE_INFINITY, the result is unspecified.\n\t**/\n\tstatic function ceil(v:Float):Int;\n\n\t/**\n\t\tReturns a pseudo-random number which is greater than or equal to 0.0, \n\t\tand less than 1.0.\n\t**/\n\tstatic function random() : Float;\n\n\t#if ((flash9 && !as3) || cpp)\n\t/**\n\t\tReturns the largest integer value that is not greater than `v`, as a Float.\n\n\t\tIf `v` is is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is unspecified.\n\t**/\n\tstatic function ffloor( v : Float ) : Float;\n\n\t/**\n\t\tReturns the smallest integer value that is not less than `v`, as a Float.\n\n\t\tIf `v` is is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is unspecified.\n\t**/\n\tstatic function fceil( v : Float ) : Float;\n\n\t/**\n\t\tRounds `v` to the nearest integer value, as a Float.\n\n\t\tIf `v` is is NaN, NEGATIVE_INFINITY or POSITIVE_INFINITY, \n\t\tthe result is unspecified.\n\t**/\n\tstatic function fround( v : Float ) : Float;\n\n\t#else\n\n\tstatic inline function ffloor( v : Float ) : Float {\n\t\treturn floor(v);\n\t}\n\n\tstatic inline function fceil( v : Float ) : Float {\n\t\treturn ceil(v);\n\t}\n\n\tstatic inline function fround( v : Float ) : Float {\n\t\treturn round(v);\n\t}\n\n\t#end\n\n\n\t/**\n\t\tTells if `f` is a finite number.\n\n\t\tIf `f` is POSITIVE_INFINITY, NEGATIVE_INFINITY or NaN, the result \n\t\tis false, otherwise the result is true.\n\t**/\n\tstatic function isFinite( f : Float ) : Bool;\n\n\t/**\n\t\tTells if `f` is not a valid number.\n\n\t\tIf `f` is NaN, the result is true, otherwise the result is false. \n\t\tIn particular, both POSITIVE_INFINITY and NEGATIVE_INFINITY are\n\t\tnot considered NaN.\n\t**/\n\tstatic function isNaN( f : Float ) : Bool;\n\n\tprivate static function __init__() : Void untyped {\n\t#if flash9\n\t\tNaN = __global__[\"Number\"].NaN;\n\t\tNEGATIVE_INFINITY = __global__[\"Number\"].NEGATIVE_INFINITY;\n\t\tPOSITIVE_INFINITY = __global__[\"Number\"].POSITIVE_INFINITY;\n\t#else\n\t\t#if !js // genjs.ml will insert this only if necessary.\n\t\t\tMath.__name__ = [\"Math\"];\n\t\t#end\n\t\tMath.NaN = Number[\"NaN\"];\n\t\tMath.NEGATIVE_INFINITY = Number[\"NEGATIVE_INFINITY\"];\n\t\tMath.POSITIVE_INFINITY = Number[\"POSITIVE_INFINITY\"];\n\t#end\n\t#if js\n\t\t__feature__(\"Type.resolveClass\",$hxClasses['Math'] = Math);\n\t#end\n\t\tMath.isFinite = function(i) {\n\t\t\treturn\n\t\t\t#if flash9\n\t\t\t__global__[\"isFinite\"](i);\n\t\t\t#elseif flash\n\t\t\t_global[\"isFinite\"](i);\n\t\t\t#elseif js\n\t\t\t__js__(\"isFinite\")(i);\n\t\t\t#else\n\t\t\tfalse;\n\t\t\t#end\n\t\t};\n\t\tMath.isNaN = function(i) {\n\t\t\treturn\n\t\t\t#if flash9\n\t\t\t__global__[\"isNaN\"](i);\n\t\t\t#elseif flash\n\t\t\t_global[\"isNaN\"](i);\n\t\t\t#elseif js\n\t\t\t__js__(\"isNaN\")(i);\n\t\t\t#else\n\t\t\tfalse;\n\t\t\t#end\n\t\t};\n\t}\n\n}\n\n\n","/* Same license as Node.js\r\n\r\n\tMaintainer: Dion Amago, dion@transition9.com\r\n\r\n\tCopied from Ritchie Turner's (blackdog@cloudshift.cl) repo due to a lack of contact with Ritchie and a desire to\r\n\tkeep node.js libraries updated\r\n\r\n\tFrom Ritchie's docs:\r\n\t\"Node.js 0.8 api without haXe embellishments so that other apis may be implemented\r\n\ton top without being hindered by design choices here.\r\n\tDomain not added.\"\r\n*/\r\n\r\npackage js;\r\n\r\ntypedef NodeListener = Dynamic;\r\ntypedef NodeErr = Null<String>;\r\n\r\n/*\r\n\t emits: newListener\r\n */\r\ntypedef NodeEventEmitter = {\r\n\tfunction addListener(event:String,fn:NodeListener):Dynamic;\r\n\tfunction on(event:String,fn:NodeListener):Dynamic;\r\n\tfunction once(event:String,fn:NodeListener):Void;\r\n\tfunction removeListener(event:String,listener:NodeListener):Void;\r\n\tfunction removeAllListeners(event:String):Void;\r\n\tfunction listeners(event:String):Array<NodeListener>;\r\n\tfunction setMaxListeners(m:Int):Void;\r\n\tfunction emit(event:String,?arg1:Dynamic,?arg2:Dynamic,?arg3:Dynamic):Void;\r\n}\r\n\r\ntypedef NodeWatchOpt = {\r\n\t@:optional\r\n\tvar persistent:Bool;\r\n\t@:optional\r\n\tvar interval:Int;\r\n};\r\n\r\ntypedef NodeExecOpt = {\r\n\tvar encoding:String;\r\n\tvar timeout:Int;\r\n\tvar maxBuffer:Int;\r\n\tvar killSignal:String;\r\n\tvar env:Dynamic;\r\n\tvar cwd:String;\r\n}\r\n\r\ntypedef NodeSpawnOpt = {\r\n\tvar cwd:String;\r\n\tvar env:Dynamic;\r\n\tvar customFds:Array<Int>;\r\n\tvar setsid:Bool;\r\n}\r\n\r\n/* note:can't spec multiple optional args, so adding an arbitrary 3 */\r\ntypedef NodeConsole = {\r\n\tfunction log(s:String,?a1:Dynamic,?a2:Dynamic,?a3:Dynamic):Void;\r\n\tfunction info(s:String,?a1:Dynamic,?a2:Dynamic,?a3:Dynamic):Void;\r\n\tfunction warn(s:String,?a1:Dynamic,?a2:Dynamic,?a3:Dynamic):Void;\r\n\tfunction error(s:String,?a1:Dynamic,?a2:Dynamic,?a3:Dynamic):Void;\r\n\tfunction time(label:String):Void;\r\n\tfunction timeEnd(label:String):Void;\r\n\tfunction dir(obj:Dynamic):Void;\r\n\tfunction trace():Void;\r\n\tfunction assert():Void;\r\n}\r\n\r\ntypedef NodePath = {\r\n\tfunction join(?p1:String,?p2:String,?p3:String):String;\r\n\tfunction normalize(p:String):String;\r\n\tfunction resolve(?p1:String,?p2:String,?p3:String):String;\r\n\tfunction dirname(p:String):String;\r\n\tfunction basename(p:String,?ext:String):String;\r\n\tfunction extname(p:String):String;\r\n\tfunction relative(?p1:String,?p2:String,?p3:String):String;\r\n\tvar sep :String;\r\n\tvar delimiter :String;\r\n}\r\n\r\ntypedef NodeUrlObj = {\r\n\tvar href:String;\r\n\tvar host:String;\r\n\tvar protocol:String;\r\n\tvar auth:String;\r\n\tvar hostname:String;\r\n\tvar port:String;\r\n\tvar pathname:String;\r\n\tvar search:String;\r\n\tvar query:Dynamic;\r\n\tvar hash:String;\r\n}\r\n\r\ntypedef NodeUrl = {\r\n\tfunction parse(p:String,?andQueryString:Bool):NodeUrlObj;\r\n\tfunction format(o:NodeUrlObj):String;\r\n\tfunction resolve(from:Array<String>,to:String):String;\r\n}\r\n\r\ntypedef NodeQueryString = {\r\n\tfunction parse(s:String,?sep:String,?eq:String,?options:{maxKeys:Int}):Dynamic;\r\n\tfunction escape(s:String):String;\r\n\tfunction unescape(s:String):String;\r\n\tfunction stringify(obj:Dynamic,?sep:String,?eq:String):String;\r\n}\r\n\r\n@:native(\"Buffer\") extern class NodeBuffer implements ArrayAccess<Int> {\r\n\r\n\t@:overload(function(str:String,?enc:String):Void {})\r\n\t@:overload(function(arr:Array<Int>):Void {})\r\n\tfunction new(size:Int):Void;\r\n\r\n\tvar length(default,null) : Int;\r\n\tvar INSPECT_MAX_BYTES:Int;\r\n\r\n\tfunction copy(targetBuffer:NodeBuffer,targetStart:Int,sourceStart:Int,sourceEnd:Int):Void;\r\n\tfunction slice(start:Int,end:Int):NodeBuffer;\r\n\tfunction write(s:String,?offset:Int,?length:Int,?enc:String):Int;\r\n\tfunction toString(enc:String,?start:Int,?end:Int):String;\r\n\tfunction fill(value:Float,offset:Int,?end:Int):Void;\r\n\tstatic function isBuffer(o:Dynamic):Bool;\r\n\tstatic function byteLength(s:String,?enc:String):Int;\r\n\tstatic function concat(list:Array<NodeBuffer>, ?totalLength:Float):NodeBuffer;\r\n\r\n\tfunction readUInt8(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readUInt16LE(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readUInt16BE(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readUInt32LE(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readUInt32BE(offset:Int,?noAssert:Bool):Int;\r\n\r\n\tfunction readInt8(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readInt16LE(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readInt16BE(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readInt32LE(offset:Int,?noAssert:Bool):Int;\r\n\tfunction readInt32BE(offset:Int,?noAssert:Bool):Int;\r\n\r\n\tfunction readFloatLE(offset:Int,?noAssert:Bool):Float;\r\n\tfunction readFloatBE(offset:Int,?noAssert:Bool):Float;\r\n\tfunction readDoubleLE(offset:Int,?noAssert:Bool):Float; // is this right?\r\n\tfunction readDoubleBE(offset:Int,?noAssert:Bool):Float; // is this right?\r\n\r\n\tfunction writeUInt8(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeUInt16LE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeUInt16BE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeUInt32LE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeUInt32BE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\r\n\tfunction writeInt8(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeInt16LE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeInt16BE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeInt32LE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeInt32BE(value:Int,offset:Int,?noAssert:Bool):Void;\r\n\r\n\tfunction writeFloatLE(value:Float,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeFloatBE(value:Float,offset:Int,?noAssert:Bool):Void;\r\n\tfunction writeDoubleLE(value:Float,offset:Int,?noAssert:Bool):Void; // is this right?\r\n\tfunction writeDoubleBE(value:Float,offset:Int,?noAssert:Bool):Void; // is this right?\r\n}\r\n\r\ntypedef NodeScript = {\r\n\tfunction runInThisContext():Dynamic;\r\n\tfunction runInNewContext(?sandbox:Dynamic):Void;\r\n}\r\n\r\ntypedef NodeVM = {\r\n\tfunction runInThisContext(code:String,?fileName:String):Dynamic;\r\n\tfunction runInNewContext(?sandbox:Dynamic):Void;\r\n\tfunction createScript(code:Dynamic,?fileName:String):NodeScript;\r\n}\r\n\r\ntypedef ReadStreamOpt = {\r\n\tflags:String,\r\n\tencoding:String,\r\n\tfd:Null<Int>,\r\n\tmode:Int,\r\n\tbufferSize:Int,\r\n\t?start:Int,\r\n\t?end:Int\r\n}\r\n\r\ntypedef WriteStreamOpt = {\r\n\tvar flags:String;\r\n\tvar encoding:String;\r\n\tvar mode:Int;\r\n}\r\n\r\n/*\r\n\t Emits:\r\n\t data,end,error,close\r\n*/\r\ntypedef NodeReadStream = { > NodeEventEmitter,\r\n\tvar readable:Bool;\r\n\tfunction pause():Void;\r\n\tfunction resume():Void;\r\n\tfunction destroy():Void;\r\n\tfunction destroySoon():Void;\r\n\tfunction setEncoding(enc:String):Void;\r\n\tfunction pipe(dest:NodeWriteStream,?opts:{end:Bool}):Void;\r\n}\r\n\r\n/*\r\n\t Emits:\r\n\t drain,error,close,pipe\r\n*/\r\ntypedef NodeWriteStream = { > NodeEventEmitter,\r\n\tvar writeable:Bool;\r\n\t@:overload(function(chunk:NodeBuffer):Bool {})\r\n\tfunction write(d:String,?enc:String,?fd:Int):Bool;\r\n\t@:overload(function(b:NodeBuffer):Void {})\r\n\tfunction end(?s:String,?enc:String):Void;\r\n\tfunction destroy():Void;\r\n\tfunction destroySoon():Void;\r\n}\r\n\r\ntypedef NodeNetworkInterface = {\r\n\tvar address :String;\r\n\tvar family :String;\r\n\tvar internal :Bool;\r\n}\r\n\r\ntypedef NodeOs = {\r\n\tfunction hostname():String;\r\n\tfunction type():String;\r\n\tfunction release():String;\r\n\tfunction uptime():Int;\r\n\tfunction loadavg():Array<Float>;\r\n\tfunction totalmem():Int;\r\n\tfunction freemem():Int;\r\n\tfunction cpus():Int;\r\n\tfunction platform():String;\r\n\tfunction arch():String;\r\n\tfunction networkInterfaces():Dynamic;\r\n}\r\n\r\n\r\ntypedef NodeJsDate = {\r\n\t\tfunction getTime():Int;\r\n\t\tfunction toDateString():String;\r\n\t\tfunction toUTCString():String;\r\n}\r\n\r\ntypedef NodeStat = {\r\n\tvar dev:Int;\r\n\tvar ino:Int;\r\n\tvar mode:Int;\r\n\tvar nlink:Int;\r\n\tvar uid:Int;\r\n\tvar gid:Int;\r\n\tvar rdev:Int;\r\n\tvar size:Int;\r\n\tvar blkSize:Int;\r\n\tvar blocks:Int;\r\n\tvar atime:NodeJsDate;\r\n\tvar mtime:NodeJsDate;\r\n\tvar ctime:NodeJsDate;\r\n\r\n\tfunction isFile():Bool;\r\n\tfunction isDirectory():Bool;\r\n\tfunction isBlockDevice():Bool;\r\n\tfunction isCharacterDevice():Bool;\r\n\tfunction isSymbolicLink():Bool;\r\n\tfunction isFIFO():Bool;\r\n\tfunction isSocket():Bool;\r\n}\r\n\r\n/*\r\n\tEmits: error,change\r\n */\r\ntypedef NodeFSWatcher = { > NodeEventEmitter,\r\n\t function close():Void;\r\n}\r\n\r\ntypedef NodeFsFileOptions = {\r\n\t@:optional var encoding :String;\r\n\t@:optional var flag :String;\r\n}\r\n\r\ntypedef NodeFS = {\r\n\tfunction rename(from:String,to:String,cb:NodeErr->Void):Void;\r\n\tfunction renameSync(from:String,to:String):Void;\r\n\r\n\tfunction stat(path:String,cb:NodeErr->NodeStat->Void):Void;\r\n\tfunction statSync(path:String):NodeStat;\r\n\r\n\tfunction lstat(path:Dynamic,cb:NodeErr->NodeStat->Void):Void;\r\n\tfunction lstatSync(path:String):NodeStat;\r\n\r\n\tfunction fstat(fd:Int,cb:NodeErr->NodeStat->Void):Void;\r\n\tfunction fstatSync(fd:Int):NodeStat;\r\n\r\n\tfunction link(srcPath:String,dstPath:String,cb:NodeErr->Void):Void;\r\n\tfunction linkSync(srcPath:String,dstPath:String):Void;\r\n\r\n\tfunction unlink(path:String,cn:NodeErr->Void):Void;\r\n\tfunction unlinkSync(path:String):Void;\r\n\r\n\tfunction symlink(linkData:Dynamic,path:String,?type:String,?cb:NodeErr->Void):Void;\r\n\tfunction symlinkSync(linkData:Dynamic,path:String,?type:String):Void;\r\n\r\n\tfunction readlink(path:String,cb:NodeErr->String->Void):Void;\r\n\tfunction readlinkSync(path:String):String;\r\n\r\n\tfunction realpath(path:String,cb:NodeErr->String->Void):Void;\r\n\tfunction realpathSync(path:String):String;\r\n\r\n\tfunction chmod(path:String,mode:Int,cb:NodeErr->Void):Void;\r\n\tfunction chmodSync(path:String,?mode:Int):Void;\r\n\r\n\tfunction fchmod(fd:Int,mode:Int,cb:NodeErr->Void):Void;\r\n\tfunction fchmodSync(fd:Int,?mode:Int):Void;\r\n\r\n\tfunction chown(path:String,uid:Int,gid:Int,cb:NodeErr->Void):Void ;\r\n\tfunction chownSync(path:String,uid:Int,gid:Int):Void;\r\n\r\n\tfunction fchown(fd:Int,uid:Int,gid:Int,cb:NodeErr->Void):Void ;\r\n\tfunction fchownSync(fd:Int,uid:Int,gid:Int):Void;\r\n\r\n\tfunction rmdir(path:String,cb:NodeErr->Void):Void;\r\n\tfunction rmdirSync(path:String):Void;\r\n\r\n\tfunction mkdir(path:String,?mode:Int,?cb:NodeErr->Void):Void;\r\n\tfunction mkdirSync(path:String,?mode:Int):Void;\r\n\r\n\tfunction readdir(path:String,cb:NodeErr->Array<String>->Void):Void;\r\n\tfunction readdirSync(path:String):Array<String>;\r\n\r\n\tfunction close(fd:Int,cb:NodeErr->Void):Void;\r\n\tfunction closeSync(fd:Int):Void;\r\n\r\n\tfunction open(path:String,flags:String,?mode:Int,cb:NodeErr->Int->Void):Void;\r\n\r\n\tfunction openSync(path:String,flags:String,?mode:Int):Int;\r\n\r\n\tfunction write(fd:Int,bufOrStr:Dynamic,offset:Int,length:Int,position:Null<Int>,?cb:NodeErr->Int->Void):Void;\r\n\tfunction writeSync(fd:Int,bufOrStr:Dynamic,offset:Int,length:Int,position:Null<Int>):Int;\r\n\r\n\tfunction read(fd:Int,buffer:NodeBuffer,offset:Int,length:Int,position:Int,cb:NodeErr->Int->NodeBuffer->Void):Void;\r\n\tfunction readSync(fd:Int,buffer:NodeBuffer,offset:Int,length:Int,position:Int):Int;\r\n\r\n\tfunction truncate(fd:Int,len:Int,cb:NodeErr->Void):Void;\r\n\tfunction truncateSync(fd:Int,len:Int):NodeErr;\r\n\r\n\t@:overload(function(path:String,cb:NodeErr->String->Void):Void {})\r\n\tfunction readFile(path:String,?options:NodeFsFileOptions,cb:NodeErr->Dynamic->Void):Void;\r\n\tfunction readFileSync(path:String,?options:NodeFsFileOptions):Dynamic;\r\n\r\n\t@:overload(function(fileName:String,data:NodeBuffer,cb:NodeErr->Void):Void {})\r\n\tfunction writeFile(fileName:String,contents:String,?enc:String,cb:NodeErr->Void):Void;\r\n\t@:overload(function(fileName:String,data:NodeBuffer):Void {})\r\n\tfunction writeFileSync(fileName:String,contents:String,?enc:String):Void;\r\n\r\n\t@:overload(function(fileName:String,data:NodeBuffer,cb:NodeErr->Void):Void {})\r\n\tfunction appendFile(fileName:String,contents:String,?enc:String,cb:NodeErr->Void):Void;\r\n\r\n\t@:overload(function(fileName:String,data:NodeBuffer):Void {})\r\n\tfunction appendFileSync(fileName:String,contents:String,?enc:String):Void;\r\n\r\n\r\n\tfunction utimes(path:String,atime:Dynamic,mtime:Dynamic,cb:NodeErr->Void):Void;\r\n\tfunction utimeSync(path:String,atime:Dynamic,mtime:Dynamic):Void;\r\n\r\n\tfunction futimes(fd:Int,atime:Dynamic,mtime:Dynamic,cb:NodeErr->Void):Void;\r\n\tfunction futimeSync(fd:Int,atime:Dynamic,mtime:Dynamic):Void;\r\n\r\n\tfunction fsync(fd:Int,cb:NodeErr->Void):Void;\r\n\tfunction fsyncSync(fd:Int):Void;\r\n\r\n\tfunction watchFile(fileName:String,?options:NodeWatchOpt,listener:NodeStat->NodeStat->Void):Void;\r\n\tfunction unwatchFile(fileName:String):Void;\r\n\tfunction watch(fileName:String,?options:NodeWatchOpt,listener:String->String->Void):NodeFSWatcher;\r\n\tfunction createReadStream(path:String,?options:ReadStreamOpt):NodeReadStream;\r\n\tfunction createWriteStream(path:String,?options:WriteStreamOpt):NodeWriteStream;\r\n\r\n\tfunction exists(p:String,cb:Bool->Void):Void;\r\n\tfunction existsSync(p:String):Bool;\r\n}\r\n\r\ntypedef NodeUtil = {\r\n\tfunction debug(s:String):Void;\r\n\tfunction inspect(o:Dynamic,?showHidden:Bool,?depth:Int):Void;\r\n\tfunction log(s:String):Void;\r\n\tfunction pump(rs:NodeReadStream,ws:NodeWriteStream,cb:Dynamic->Void):Void;\r\n\tfunction inherits(constructor:Dynamic,superConstructor:Dynamic):Void;\r\n\tfunction isArray(o:Dynamic):Bool;\r\n\tfunction isRegExp(o:Dynamic):Bool;\r\n\tfunction isDate(o:Dynamic):Bool;\r\n\tfunction isError(o:Dynamic):Bool;\r\n\tfunction format(out:String,?a1:Dynamic,?a2:Dynamic,?a3:Dynamic):Void; // should be arbitrary # of args\r\n}\r\n\r\n/*\r\n\tEmits:\r\n\texit, uncaughtException + SIGNAL events (SIGINT etc)\r\n */\r\ntypedef NodeProcess = { > NodeEventEmitter,\r\n\tvar stdout:NodeWriteStream;\r\n\tvar stdin:NodeReadStream;\r\n\tvar stderr:NodeWriteStream;\r\n\tvar argv:Array<String>;\r\n\tvar env:Dynamic;\r\n\tvar pid:Int;\r\n\tvar title:String;\r\n\tvar arch:String;\r\n\tvar platform:String;\r\n\tvar installPrefix:String;\r\n\tvar execPath:String;\r\n\tvar version:String;\r\n\tvar versions:Dynamic;\r\n\r\n\tfunction memoryUsage():{rss:Int,vsize:Int,heapUsed:Int,heapTotal:Int};\r\n\tfunction nextTick(fn:Void->Void):Void;\r\n\tfunction exit(code:Int):Void;\r\n\tfunction cwd():String;\r\n\tfunction getuid():Int;\r\n\tfunction getgid():Int;\r\n\tfunction setuid(u:Int):Void;\r\n\tfunction setgid(g:Int):Void;\r\n\tfunction umask(?m:Int):Int;\r\n\tfunction chdir(d:String):Void;\r\n\tfunction kill(pid:Int,?signal:String):Void;\r\n\tfunction uptime():Int;\r\n\tfunction abort():Void;\r\n\tfunction hrtime():Array<Int>;\r\n}\r\n\r\n/*\r\n\tEmits: exit,close\r\n*/\r\ntypedef NodeChildProcess = { > NodeEventEmitter,\r\n\tvar stdin:NodeWriteStream;\r\n\tvar stdout:NodeReadStream;\r\n\tvar stderr:NodeReadStream;\r\n\tvar pid:Int;\r\n\tfunction kill(?signal:String):Void;\r\n}\r\n\r\n/*\r\n\tEmits: message\r\n*/\r\ntypedef NodeChildForkProcess = { > NodeChildProcess,\r\n\t @:overload(function(o:Dynamic,?socket:NodeNetSocket):Void {})\r\n\t function send(o:Dynamic,?server:NodeNetServer):Void;\r\n}\r\n\r\ntypedef NodeChildProcessCommands = {\r\n\tfunction spawn(command: String,args: Array<String>,?options: Dynamic ) : NodeChildProcess;\r\n\tfunction exec(command: String,?options:Dynamic,cb: {code:Int}->String->String->Void ): NodeChildProcess;\r\n\tfunction execFile(command: String,?options:Dynamic,cb: {code:Int}->String->String->Void ): NodeChildProcess;\r\n\tfunction fork(path:String,?args:Dynamic,?options:Dynamic):NodeChildForkProcess;\r\n}\r\n\r\ntypedef NodeClusterSettings = {\r\n\tvar exec:String;\r\n\tvar args:Array<String>;\r\n\tvar silent:Bool;\r\n}\r\n\r\n\r\n/* emits: message, online,listening,disconnect,exit, setup */\r\ntypedef NodeWorker = { > NodeEventEmitter,\r\n\tvar uniqueID:String; // indexes into cluster.workers\r\n\tvar process:NodeChildProcess;\r\n\tvar suicide:Bool;\r\n\tfunction send(message:Dynamic,?sendHandle:Dynamic):Void;\r\n\tfunction destroy():Void;\r\n}\r\n\r\n/* Emits: death,message, fork, online, listening\t*/\r\ntypedef NodeCluster = { > NodeEventEmitter,\r\n\tvar isMaster:Bool;\r\n\tvar isWorker:Bool;\r\n\tvar workers:Array<NodeWorker>;\r\n\tfunction fork(?env:Dynamic):NodeWorker;\r\n\tfunction send(o:Dynamic):Void;\r\n\tfunction setupMaster(?settings:NodeClusterSettings):Void;\r\n\tfunction disconnect(?cb:Void->Void):Void;\r\n}\r\n\r\n\r\n/* NET ............................................. */\r\n\r\n/*\r\n\t Emits:\r\n\t connection\r\n*/\r\ntypedef NodeNet = { > NodeEventEmitter,\r\n\tfunction createServer(?options:{allowHalfOpen:Bool},fn:NodeNetSocket->Void):NodeNetServer;\r\n\t@:overload(function(cs:String):NodeNetSocket {})\r\n\tfunction createConnection(port:Int,host:String):NodeNetSocket;\r\n\t@:overload(function(cs:String):NodeNetSocket {})\r\n\tfunction connect(port:Int,host:String):NodeNetSocket;\r\n\tfunction isIP(input:String):Int; // 4 or 6\r\n\tfunction isIPv4(input:String):Bool;\r\n\tfunction isIPv6(input:String):Bool;\r\n}\r\n\r\n/*\r\n\t Emits:\r\n\t connection,close,error,listening\r\n*/\r\ntypedef NodeNetServer = { > NodeEventEmitter,\r\n\tvar maxConnections:Int;\r\n\tvar connections:Int;\r\n\r\n\t@:overload(function(path:String,?cb:Void->Void):Void {})\r\n\t@:overload(function(fd:Int,?cb:Void->Void):Void {})\r\n\tfunction listen(port:Int,?host:String,?cb:Void->Void):Void;\r\n\tfunction close(cb:Void->Void):Void;\r\n\tfunction address():Void;\r\n\tfunction pause(msecs:Int):Void;\r\n}\r\n\r\ntypedef NodeConnectionOpt = {\r\n\tport:Int,\r\n\t?host:String,\r\n\t?localAddress:String\r\n}\r\n\r\n/*\r\n\r\n\tEmits:\r\n\tconnect,data,end,timeout,drain,error,close\r\n\r\n\timplements a duplex stream interface\r\n*/\r\ntypedef NodeNetSocket = { > NodeEventEmitter,\r\n\tvar remoteAddress:String;\r\n\tvar remotePort:Int;\r\n\tvar bufferSize:Int;\r\n\tvar bytesRead:Int;\r\n\tvar bytesWritten:Int;\r\n\r\n\t@:overload(function(path:String,?cb:Void->Void):Void {})\r\n\t@:overload(function(options:NodeConnectionOpt,connectionListener:Void->Void):Void {})\r\n\tfunction connect(port:Int,?host:String,?cb:Void->Void):Void;\r\n\tfunction setEncoding(enc:String):Void;\r\n\tfunction setSecure():Void;\r\n\t@:overload(function(data:Dynamic,?enc:String,?fileDesc:Int,?cb:Void->Void):Bool {})\r\n\tfunction write(data:Dynamic,?enc:String,?cb:Void->Void):Bool;\r\n\tfunction end(?data:Dynamic,?enc:String):Void;\r\n\tfunction destroy():Void;\r\n\tfunction pause():Void;\r\n\tfunction resume():Void;\r\n\tfunction setTimeout(timeout:Int,?cb:Void->Void):Void;\r\n\tfunction setNoDelay(?noDelay:Bool):Void;\r\n\tfunction setKeepAlive(enable:Bool,?delay:Int):Void;\r\n\tfunction address():{address:String,port:Int};\r\n}\r\n\r\n/* HTTP ............................................*/\r\n\r\n\r\n/*\r\n\t Emits:\r\n\t data,end,close\r\n */\r\ntypedef NodeHttpServerReq = { > NodeReadStream,\r\n\tvar method:String;\r\n\tvar url:String;\r\n\tvar headers:Dynamic;\r\n\tvar trailers:Dynamic;\r\n\tvar httpVersion:String;\r\n\tvar connection:NodeNetSocket;\r\n}\r\n\r\n/*\r\n */\r\ntypedef NodeHttpServerResp = { > NodeWriteStream,\r\n\tvar statusCode:Int;\r\n\tfunction writeContinue():Void;\r\n\t@:overload(function(statusCode:Int,?reasonPhrase:String,?headers:Dynamic):Void {})\r\n\tfunction writeHead(statusCode:Int,headers:Dynamic):Void;\r\n\tfunction setHeader(name:String,value:Dynamic):Void;\r\n\tfunction getHeader(name:String):Dynamic;\r\n\tfunction removeHeader(name:String):Void;\r\n\tfunction addTrailers(headers:Dynamic):Void;\r\n}\r\n\r\n/* Emits:\r\n\t continue,response\r\n*/\r\ntypedef NodeHttpClientReq = { > NodeWriteStream,\r\n}\r\n\r\n/* Emits:\r\n\t data,end,close\r\n*/\r\ntypedef NodeHttpClientResp = { > NodeReadStream,\r\n\tvar statusCode:Int;\r\n\tvar httpVersion:String;\r\n\tvar headers:Dynamic;\r\n\tvar client:NodeHttpClient;\r\n}\r\n\r\n\r\ntypedef NodeHttpClient = { > NodeEventEmitter,\r\n\tfunction request(method:String,path:String,?headers:Dynamic):NodeHttpClientReq;\r\n\tfunction verifyPeer():Bool;\r\n\tfunction getPeerCertificate():NodePeerCert;\r\n}\r\n\r\n/*\r\n\t Emits:\r\n\t request,connection,checkContinue,connect,clientError,close\r\n */\r\ntypedef NodeHttpServer = { > NodeEventEmitter,\r\n\t@:overload(function(path:String,?cb:Void->Void):Void {})\r\n\tfunction listen(port:Int,?host:String,?cb:Void->Void):Void;\r\n\tfunction close(?cb:Void->Void):Void;\r\n}\r\n\r\n/*\r\n */\r\ntypedef NodeHttpReqOpt = {\r\n\tvar host:String;\r\n\tvar port:Int;\r\n\tvar path:String;\r\n\tvar method:String;\r\n\tvar headers:Dynamic;\r\n}\r\n\r\ntypedef NodeHttpsReqOpt = { > NodeHttpReqOpt,\r\n\tvar ciphers:Dynamic;\r\n\tvar rejectUnauthorized:Dynamic;\r\n}\r\n\r\n/*\r\n\t Emits:\r\n\t upgrade,continue\r\n*/\r\ntypedef NodeAgent = { > NodeEventEmitter,\r\n\tvar maxSockets:Int;\r\n\tvar sockets:Array<NodeNetSocket>;\r\n\tvar queue:Array<NodeHttpServerReq>;\r\n}\r\n\r\ntypedef NodeHttp = {\r\n\tfunction createServer(listener:NodeHttpServerReq->NodeHttpServerResp->Void):NodeHttpServer;\r\n\tfunction createClient(port:Int,host:String):NodeHttpClient;\r\n\t@:overload(function(parsedUrl:NodeUrlObj,res:NodeHttpClientResp->Void):NodeHttpClientReq {})\r\n\tfunction request(options:NodeHttpReqOpt,res:NodeHttpClientResp->Void):NodeHttpClientReq;\r\n\t@:overload(function(parsedUrl:NodeUrlObj,res:NodeHttpClientResp->Void):Void {})\r\n\tfunction get(options:NodeHttpReqOpt,res:NodeHttpClientResp->Void):Void;\r\n\tfunction getAgent(host:String,port:Int):NodeAgent;\r\n}\r\n\r\ntypedef NodeHttps = {\r\n\tfunction createServer(options:{key:String,cert:String},\r\n\t\t\t\t\t\t\t\t\t\t\t\tlistener:NodeHttpServerReq->NodeHttpServerResp->Void):NodeHttpServer;\r\n\tfunction request(options:NodeHttpsReqOpt,res:NodeHttpClientResp->Void):NodeHttpClientReq;\r\n\tfunction get(options:NodeHttpsReqOpt,res:NodeHttpClientResp->Void):Void;\r\n}\r\n\r\ntypedef NodeDns = {\r\n\tfunction resolve(domain:String,?rrtype:String,cb:NodeErr->Array<Dynamic>->Void):Void;\r\n\tfunction resolveNs(domain:String,cb:NodeErr->Array<Dynamic>->Void):Void;\r\n\tfunction resolve4(domain:String,cb:NodeErr->Array<String>->Void):Void;\r\n\tfunction resolve6(domain:String,cb:NodeErr->Array<String>->Void):Void;\r\n\tfunction resolveMx(domain:String,cb:NodeErr->Array<{priority:Int,exchange:String}>->Void):Void;\r\n\tfunction resolveSrv(domain:String,cb:NodeErr->Array<{priority:Int,weight:Int,port:Int,name:String}->Void>):Void;\r\n\tfunction resolveCname(domain:String,cb:NodeErr->Array<String>->Void):Void;\r\n\tfunction reverse(ip:String,cb:NodeErr->Array<String>->Void):Void;\r\n\tfunction resolveTxt(domain:String,cb:NodeErr->Array<String>->Void):Void;\r\n\tfunction lookup(domain:String,?family:String,cb:NodeErr->String->Int->Void):Void;\r\n}\r\n\r\n/* UDP ........................................ */\r\n\r\ntypedef NodeUDPCallback = NodeErr->haxe.io.Bytes->Void;\r\n\r\ntypedef NodeUDP = {\r\n\t// Valid types: udp6, and unix_dgram.\r\n\tfunction createSocket(type:String,cb:NodeUDPCallback):NodeDGSocket;\r\n}\r\n\r\n/*\r\n\t Emits: message,listening,close\r\n*/\r\ntypedef NodeDGSocket = { > NodeEventEmitter,\r\n\tfunction send(buf:NodeBuffer,offset:Int,length:Int,port:Int,address:String,cb:NodeUDPCallback):Void;\r\n\tfunction bind(port:Int,?address:String):Void;\r\n\tfunction close():Void;\r\n\tfunction address():Dynamic;\r\n\tfunction setBroadcast(flag:Bool):Void;\r\n\tfunction setTTL(ttl:Int):Void;\r\n\tfunction setMulticastTTL(ttl:Int):Void;\r\n\tfunction setMulticastLoopback(flag:Bool):Void;\r\n\tfunction addMembership(multicastAddress:String,?multicastInterface:String):Void;\r\n\tfunction dropMembership(multicastAddress:String,?multicastInterface:String):Void;\r\n}\r\n\r\n\r\n/* CRYPTO ..................................... */\r\n\r\ntypedef NodeCredDetails = {\r\n\tvar key:String;\r\n\tvar cert:String;\r\n\tvar ca:Array<String>;\r\n\t/*\r\n\t\tTODO\r\n\t*/\r\n}\r\n\r\ntypedef NodePeerCert = {\r\n\tvar subject:String;\r\n\tvar issuer:String;\r\n\tvar valid_from:String;\r\n\tvar valid_to:String;\r\n}\r\n\r\ntypedef NodeCreds = Dynamic;\r\n\r\ntypedef NodeHmac = {\r\n\tfunction update(data:Dynamic):Void;\r\n\tfunction digest(?enc:String):String;\r\n}\r\n\r\ntypedef NodeHash = {\r\n\tfunction update(data:Dynamic):NodeHash;\r\n\tfunction digest(?enc:String):String;\r\n\tfunction createHmac(algo:String,key:String):NodeHmac;\r\n}\r\n\r\ntypedef NodeCipher = {\r\n\tfunction update(data:Dynamic,?input_enc:String,?output_enc:String):Dynamic;\r\n\tfunction final(output_enc:String):Void;\r\n\tfunction setAutoPadding(padding:Bool):Void; // default true\r\n}\r\n\r\ntypedef NodeDecipher = {\r\n\tfunction update(data:Dynamic,?input_enc:String,?output_enc:String):Dynamic;\r\n\tfunction final(?output_enc:String):Dynamic;\r\n\tfunction setAutoPadding(padding:Bool):Void; // default true\r\n}\r\n\r\ntypedef NodeSigner = {\r\n\tfunction update(data:Dynamic):Void;\r\n\tfunction sign(private_key:String,?output_format:String):Dynamic;\r\n}\r\n\r\ntypedef NodeVerify = {\r\n\tfunction update(data:Dynamic):Void;\r\n\tfunction verify(cert:String,?sig_format:String):Bool;\r\n}\r\n\r\ntypedef NodeDiffieHellman = {\r\n\tfunction generateKeys(?enc:String):String;\r\n\tfunction computeSecret(otherPublicKey:String,?inputEnc:String,?outputEnc:String):String;\r\n\tfunction getPrime(?enc:String):Int;\r\n\tfunction getGenerator(?enc:String):String;\r\n\tfunction getPublicKey(?enc:String):String;\r\n\tfunction getPrivateKey(?enc:String):String;\r\n\tfunction setPublicKey(pubKey:String,?enc:String):Void;\r\n\tfunction setPrivateKey(privKey:String,?enc:String):Void;\r\n}\r\n\r\ntypedef NodeCrypto = {\r\n\tfunction createCredentials(details:NodeCredDetails):NodeCreds;\r\n\tfunction createHash(algo:String):NodeHash; // 'sha1', 'md5', 'sha256', 'sha512'\r\n\tfunction createCipher(algo:String,password:String):NodeCipher;\r\n\tfunction createCipheriv(algo:String,key:String,iv:String):NodeCipher;\r\n\tfunction createDecipher(algo:String,key:String):NodeDecipher;\r\n\tfunction createDecipheriv(algo:String,key:String,iv:String):NodeDecipher;\r\n\tfunction createSign(algo:String):NodeSigner;\r\n\tfunction createVerify(algo:String):NodeVerify;\r\n\t@:overload(function(prime_length:Int):NodeDiffieHellman {})\r\n\tfunction createDiffieHellman(prime:String,?enc:String):NodeDiffieHellman;\r\n\tfunction getDiffieHellman(groupName:String):NodeDiffieHellman;\r\n\tfunction pbkdf2(password:String,salt:String,iterations:Int,keylen:Int,cb:NodeErr->String):Void;\r\n\tfunction randomBytes(size:Int,cb:NodeErr->NodeBuffer):Void;\r\n\r\n}\r\n\r\n/* TLS/SSL ................................................ */\r\n\r\n/*\r\n\t Emits:\r\n\t secureConnection\r\n*/\r\ntypedef NodeTLSServer =\t{ > NodeNetServer,\r\n\t\tfunction addContext(hostName:String,credentials:NodeCreds):Void;\r\n\r\n}\r\n\r\n/* Emits: secure */\r\ntypedef NodeSecurePair = { > NodeEventEmitter,\r\n\t // ?? todo\r\n}\r\ntypedef NodeTLS ={\r\n\tfunction connect(port:Int,host:String,opts:Dynamic,cb:Void->Void):Void;\r\n\tfunction createServer(opts:Dynamic,cb:NodeTLSServer->Void):Void;\r\n\tfunction createSecurePair(creds:NodeCreds,isServer:Bool,requestCert:Bool,rejectUnauthorized:Bool):NodeSecurePair;\r\n}\r\n\r\n/*\r\n\tSnarfed from Tong's version ...\r\n */\r\ntypedef NodeAssert = {\r\n\tfunction fail(actual:Dynamic,expected:Dynamic,message:Dynamic,operator:Dynamic): Void;\r\n\tfunction ok(value:Dynamic,?message:Dynamic):Void;\r\n\tfunction equal(actual:Dynamic,expected:Dynamic,?message:Dynamic):Void;\r\n\tfunction notEqual(actual:Dynamic,expected:Dynamic,?message:Dynamic):Void;\r\n\tfunction deepEqual(actual:Dynamic,expected:Dynamic,?message:Dynamic):Void;\r\n\tfunction notDeepEqual(actual:Dynamic,expected:Dynamic,?message:Dynamic):Void;\r\n\tfunction strictEqual(actual:Dynamic,expected:Dynamic,?message:Dynamic):Void;\r\n\tfunction notStrictEqual(actual:Dynamic,expected:Dynamic,?message:Dynamic):Void;\r\n\tfunction throws(block:Dynamic,error:Dynamic,?message:Dynamic):Void;\r\n\tfunction doesNotThrow(block:Dynamic,error:Dynamic,?message:Dynamic):Void;\r\n\tfunction ifError(value:Dynamic):Void;\r\n}\r\n\r\ntypedef NodeREPL = {\r\n\tfunction start( prompt : String, ?stream : Dynamic ) : Void;\r\n}\r\n\r\ntypedef NodeGZip = {}\r\ntypedef NodeGUnzip = {}\r\ntypedef NodeDeflate = {}\r\ntypedef NodeInflate = {}\r\ntypedef NodeDeflateRaw = {}\r\ntypedef NodeInflateRaw = {}\r\ntypedef NodeUnzip = {}\r\n\r\n\r\ntypedef NodeZLib = {\r\n\tfunction createGzip(?options:Dynamic):NodeGZip;\r\n\tfunction createGunzip(?options:Dynamic):NodeGUnzip;\r\n\tfunction createDeflate(?options:Dynamic):NodeDeflate;\r\n\tfunction createInflate(?options:Dynamic):NodeInflate;\r\n\tfunction createInflateRaw(?options:Dynamic):NodeInflateRaw;\r\n\tfunction createDeflateRaw(?options:Dynamic):NodeDeflateRaw;\r\n\tfunction createUnzip(?options:Dynamic):NodeUnzip;\r\n\r\n\t// convenience\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction deflate(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction deflateRaw(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction gzip(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction gunzip(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction inflate(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction inflateRaw(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n\t@:overload(function (str:String,cb:NodeErr->Dynamic->Void):Void {})\r\n\tfunction unzip(buf:NodeBuffer,cb:NodeErr->Dynamic->Void):Void;\r\n}\r\n\r\ntypedef NodeJson = {\r\n\tfunction stringify(obj :Dynamic, ?replacer :Dynamic, ?space :Dynamic):String;\r\n\tfunction parse(text :String) :Dynamic;\r\n}\r\n\r\n@:native(\"Error\")\r\nextern class Error\r\n{\r\n\tpublic function new(msg : String) : Void;\r\n}\r\n\r\n// Node Constants\r\nclass NodeC {\r\n\tpublic static inline var UTF8 = \"utf8\";\r\n\tpublic static inline var ASCII = \"ascii\";\r\n\tpublic static inline var BINARY = \"binary\";\r\n\tpublic static inline var BASE64 = \"base64\";\r\n\tpublic static inline var HEX = \"hex\";\r\n\r\n\t//events - thanks tmedema\r\n\tpublic static inline var EVENT_EVENTEMITTER_NEWLISTENER = \"newListener\";\r\n\tpublic static inline var EVENT_EVENTEMITTER_ERROR = \"error\";\r\n\r\n\tpublic static inline var EVENT_STREAM_DATA = \"data\";\r\n\tpublic static inline var EVENT_STREAM_END = \"end\";\r\n\tpublic static inline var EVENT_STREAM_ERROR = \"error\";\r\n\tpublic static inline var EVENT_STREAM_CLOSE = \"close\";\r\n\tpublic static inline var EVENT_STREAM_DRAIN = \"drain\";\r\n\tpublic static inline var EVENT_STREAM_CONNECT = \"connect\";\r\n\tpublic static inline var EVENT_STREAM_SECURE = \"secure\";\r\n\tpublic static inline var EVENT_STREAM_TIMEOUT = \"timeout\";\r\n\tpublic static inline var EVENT_STREAM_PIPE = \"pipe\";\r\n\r\n\tpublic static inline var EVENT_PROCESS_EXIT = \"exit\";\r\n\tpublic static inline var EVENT_PROCESS_UNCAUGHTEXCEPTION = \"uncaughtException\";\r\n\tpublic static inline var EVENT_PROCESS_SIGINT = \"SIGINT\";\r\n\tpublic static inline var EVENT_PROCESS_SIGUSR1 = \"SIGUSR1\";\r\n\tpublic static inline var EVENT_CHILDPROCESS_EXIT = \"exit\";\r\n\tpublic static inline var EVENT_HTTPSERVER_REQUEST = \"request\";\r\n\tpublic static inline var EVENT_HTTPSERVER_CONNECTION = \"connection\";\r\n\tpublic static inline var EVENT_HTTPSERVER_CLOSE = \"close\";\r\n\tpublic static inline var EVENT_HTTPSERVER_UPGRADE = \"upgrade\";\r\n\tpublic static inline var EVENT_HTTPSERVER_CLIENTERROR = \"clientError\";\r\n\tpublic static inline var EVENT_HTTPSERVERREQUEST_DATA = \"data\";\r\n\tpublic static inline var EVENT_HTTPSERVERREQUEST_END = \"end\";\r\n\tpublic static inline var EVENT_CLIENTREQUEST_RESPONSE = \"response\";\r\n\tpublic static inline var EVENT_CLIENTRESPONSE_DATA = \"data\";\r\n\tpublic static inline var EVENT_CLIENTRESPONSE_END = \"end\";\r\n\tpublic static inline var EVENT_NETSERVER_CONNECTION = \"connection\";\r\n\tpublic static inline var EVENT_NETSERVER_CLOSE = \"close\";\r\n\r\n\tpublic static inline var FILE_READ = \"r\";\r\n\tpublic static inline var FILE_READ_APPEND = \"r+\";\r\n\tpublic static inline var FILE_WRITE = \"w\";\r\n\tpublic static inline var FILE_WRITE_APPEND = \"a+\";\r\n\tpublic static inline var FILE_READWRITE = \"a\";\r\n\tpublic static inline var FILE_READWRITE_APPEND = \"a+\";\r\n}\r\n\r\nclass Node {\r\n\tpublic static var assert(get,null) : NodeAssert;\r\n\tpublic static var child_process(get,null) : NodeChildProcessCommands;\r\n\tpublic static var cluster(get,null) : NodeCluster;\r\n\tpublic static var console(default,null) : NodeConsole;\r\n\tpublic static var crypto(get,null) : NodeCrypto;\r\n\tpublic static var dgram(get,null) :NodeUDP ;\r\n\tpublic static var dns(get,null) : NodeDns;\r\n\tpublic static var fs(get,null) : NodeFS;\r\n\tpublic static var http(get,null) : NodeHttp;\r\n\tpublic static var https(get,null) : NodeHttps;\r\n\tpublic static var net(get,null) : NodeNet;\r\n\tpublic static var os(get,null) : NodeOs;\r\n\tpublic static var path(get,null) : NodePath;\r\n\tpublic static var process(default,null) : NodeProcess;\r\n\tpublic static var querystring(get,null) : NodeQueryString;\r\n\tpublic static var repl(get,null) : NodeREPL;\r\n\tpublic static var require(default,null) : String->Dynamic;\r\n\tpublic static var tls(get,null) : NodeTLS;\r\n\tpublic static var url(get,null) : NodeUrl;\r\n\tpublic static var util(get,null) : NodeUtil;\r\n\tpublic static var vm(get,null) : NodeVM;\r\n\tpublic static var json(get,null) : NodeJson;\r\n\tpublic static var zlib(get,null) : NodeZLib;\r\n\r\n\r\n\t//\tpublic static var paths:Array<String>;\r\n\tpublic static var setTimeout:Dynamic->Int->?Array<Dynamic>->Int;\r\n\tpublic static var clearTimeout:Int->Void;\r\n\tpublic static var setInterval:Dynamic->Int->?Array<Dynamic>->Int;\r\n\tpublic static var clearInterval:Int->Void;\r\n\tpublic static var setImmediate:Dynamic->?Array<Dynamic>->Int;\r\n\tpublic static var clearImmediate:Int->Void;\r\n\tpublic static var global:Dynamic;\r\n\r\n\tpublic static var __filename(get, null):String;\r\n\tpublic static var __dirname(get, null):String;\r\n\tpublic static var module:Dynamic;\r\n\tpublic static var stringify:Dynamic->?Dynamic->?Dynamic->String;\r\n\tpublic static var parse:String->Dynamic;\r\n\tpublic static var queryString:NodeQueryString;\r\n\r\n\tstatic inline function get_assert() : NodeAssert return require(\"assert\");\r\n\tstatic inline function get_child_process() : NodeChildProcessCommands return require(\"child_process\");\r\n\tstatic inline function get_cluster() : NodeCluster return require(\"cluster\");\r\n\tstatic inline function get_crypto() : NodeCrypto return require(\"crypto\");\r\n\tstatic inline function get_dgram() : NodeUDP return require(\"dgram\");\r\n\tstatic inline function get_dns() : NodeDns return require(\"dns\");\r\n\tstatic inline function get_fs() : NodeFS return require(\"fs\");\r\n\tstatic inline function get_http() : NodeHttp return require(\"http\");\r\n\tstatic inline function get_https() : NodeHttps return require(\"https\");\r\n\tstatic inline function get_net() : NodeNet return require(\"net\");\r\n\tstatic inline function get_os() : NodeOs return require(\"os\");\r\n\tstatic inline function get_path() : NodePath return require(\"path\");\r\n\tstatic inline function get_querystring() : NodeQueryString return require(\"querystring\");\r\n\tstatic inline function get_repl() : NodeREPL return require(\"repl\");\r\n\tstatic inline function get_tls() : NodeTLS return require(\"tls\");\r\n\tstatic inline function get_url() : NodeUrl return require(\"url\");\r\n\tstatic inline function get_util() : NodeUtil return require(\"util\");\r\n\tstatic inline function get_vm() : NodeVM return require(\"vm\");\r\n\tstatic inline function get_zlib() : NodeZLib return require(\"zlib\");\r\n\r\n\tstatic inline function get___filename() : String return untyped __js__('__filename');\r\n\tstatic inline function get___dirname() : String return untyped __js__('__dirname');\r\n\tstatic inline function get_json() : NodeJson return untyped __js__('JSON');\r\n\r\n\tpublic static function newSocket(?options):NodeNetSocket {\r\n\t\treturn untyped __js__(\"new js.Node.net.Socket(options)\");\r\n\t}\r\n\r\n\t#if !macro\r\n\tpublic static function __init__()\r\n\t{\r\n\t\tuntyped __js__(\"var module, setImmediate, clearImmediate\");\r\n\t\tsetTimeout = untyped __js__('setTimeout');\r\n\t\tclearTimeout = untyped __js__('clearTimeout');\r\n\t\tsetInterval = untyped __js__('setInterval');\r\n\t\tclearInterval = untyped __js__('clearInterval');\r\n\t\tglobal = untyped __js__('global');\r\n\t\tprocess = untyped __js__('process');\r\n\t\trequire = untyped __js__('require');\r\n\t\tconsole = untyped __js__('console');\r\n\t\tmodule = untyped __js__('module');\t// ref to the current module\r\n\t\tstringify = untyped __js__('JSON.stringify');\r\n\t\tparse = untyped __js__('JSON.parse');\r\n\t\t// Not present in Node < 0.9\r\n\t\tvar version = process.version.substr(1).split(\".\").map(Std.parseInt);\r\n\t\tif (version[0] > 0 || version[1] >= 9) {\r\n\t\t\tsetImmediate = untyped __js__('setImmediate');\r\n\t\t\tclearImmediate = untyped __js__('clearImmediate');\r\n\t\t}\r\n\t}\r\n\t#end\r\n}\r\n\r\n\r\n","package nodejs.webkit;\r\n\r\n@:native('nodejs.webkit.$ui')\r\nclass UI {\r\n\t\r\n\tstatic function __init__() : Void untyped {\r\n\t\t__js__(\"nodejs.webkit.$ui = require('nw.gui')\");\r\n\t}\r\n}\r\n","package nodejs.webkit;\r\n\r\nextern class Menu {\r\n\r\n\tvar items(default, null) : Array<MenuItem>;\r\n\t\r\n\tfunction new( ?t : { type : String } ) : Void;\r\n\tfunction append( it : MenuItem ) : Void;\r\n\tfunction insert( it : MenuItem, pos : Int ) : Void;\r\n\tfunction remove( it : MenuItem ) : Void;\r\n\tfunction removeAt( it : MenuItem, pos : Int ) : Void;\r\n\tfunction popup( x : Int, y : Int ) : Void;\r\n\t\r\n\tstatic inline function createWindowMenu() : Menu {\r\n\t\treturn new Menu( { type : \"menubar\" } );\r\n\t}\r\n\t\r\n\tstatic function __init__() : Void untyped {\r\n\t\tMenu = UI.Menu;\r\n\t}\r\n\t\r\n}","package nodejs.webkit;\r\n\r\nextern class MenuItem {\r\n\t\r\n\tvar type(default, null) : MenuItemType;\r\n\tvar label : String;\r\n\tvar icon : String;\r\n\tvar tooltip : String;\r\n\tvar checked : Bool;\r\n\tvar enabled : Bool;\r\n\tvar submenu : Menu;\r\n\r\n\tfunction new( ?t : { ?label : String, ?icon : String, ?type : MenuItemType } ) : Void;\r\n\t\r\n\tdynamic function click() : Void;\r\n\tfunction on( event : String, callb : Void -> Void ) : Void;\r\n\t\r\n\tstatic function __init__() : Void untyped {\r\n\t\tMenuItem = UI.MenuItem;\r\n\t}\r\n\t\r\n}","package nodejs.webkit;\r\n\r\nextern class Window {\r\n\tpublic var window : js.html.DOMWindow;\r\n\tpublic var x : Int;\r\n\tpublic var y : Int;\r\n\tpublic var width : Int;\r\n\tpublic var height : Int;\r\n\tpublic var title : String;\r\n\tpublic var isFullScreen : Bool;\r\n\tpublic var isKioskMode : Bool;\r\n\tpublic var zoomLevel : Int;\r\n\tpublic var menu : Menu;\r\n\tpublic function moveTo( x : Int, y : Int ) : Void;\r\n\tpublic function moveBy( x : Int, y : Int ) : Void;\r\n\tpublic function resizeTo( w : Int, h : Int ) : Void;\r\n\tpublic function resizeBy( w : Int, h : Int ) : Void;\r\n\tpublic function focus() : Void;\r\n\tpublic function blur() : Void;\r\n\tpublic function show() : Void;\r\n\tpublic function hide() : Void;\r\n\tpublic function close( ?force : Bool ) : Void;\r\n\tpublic function reload() : Void;\r\n\tpublic function reloadIgnoringCache() : Void;\r\n\tpublic function maximize() : Void;\r\n\tpublic function unmaximize() : Void;\r\n\tpublic function minimize() : Void;\r\n\tpublic function restore() : Void;\r\n\tpublic function enterFullscreen() : Void;\r\n\tpublic function leavFullscreen() : Void;\r\n\tpublic function showDevTools( ?id : String, ?headless : Bool ) : Void;\r\n\tpublic function closeDevTools() : Void;\r\n\tpublic function toggleFullscreen() : Void;\r\n\tpublic function isDevToolsOpen() : Bool;\r\n\t\r\n\t@:overload(function( event : String, callb : Dynamic -> Dynamic ) : Void {})\r\n\t@:overload(function( event : String, callb : Void -> Dynamic ) : Void {})\r\n\t@:overload(function( event : String, callb : Dynamic -> Void ) : Void {})\r\n\tpublic function on( event : String, callb : Void -> Void ) : Void;\r\n\t\r\n\tpublic static function get() : Window;\r\n\tpublic static function open( url : String, ?options : { } ) : Window;\r\n\t\r\n\tstatic function __init__() : Void untyped {\r\n\t\tWindow = UI.Window;\r\n\t}\r\n}\r\n"],
"names":[],
"mappings":"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"
}